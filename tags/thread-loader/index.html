<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/rss.xml" title="I CAN MAKE THIS WORK Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="I CAN MAKE THIS WORK Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-51754530-2","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><title data-react-helmet="true">Posts tagged &quot;thread-loader&quot; | I CAN MAKE THIS WORK</title><meta data-react-helmet="true" property="og:title" content="Posts tagged &quot;thread-loader&quot; | I CAN MAKE THIS WORK"><meta data-react-helmet="true" name="description" content="Blog | Tagged &quot;thread-loader&quot;"><meta data-react-helmet="true" property="og:description" content="Blog | Tagged &quot;thread-loader&quot;"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link rel="stylesheet" href="/styles.cc9f3fb7.css">
<link rel="preload" href="/styles.f8cbd7ed.js" as="script">
<link rel="preload" href="/runtime~main.9d913733.js" as="script">
<link rel="preload" href="/main.b39d16fe.js" as="script">
<link rel="preload" href="/1.9d1369a3.js" as="script">
<link rel="preload" href="/2.b8669f88.js" as="script">
<link rel="preload" href="/6875c492.01bbbe97.js" as="script">
<link rel="preload" href="/c3b5bd8c.0459a1fb.js" as="script">
<link rel="preload" href="/cb8d7bac.d703c77f.js" as="script">
<link rel="preload" href="/c807b9b9.56caa793.js" as="script">
<link rel="preload" href="/3b7fae8b.3939d6ed.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/"><img src="/img/profile.jpg" alt="I CAN MAKE THIS WORK" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/profile.jpg" alt="I CAN MAKE THIS WORK" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">I CAN MAKE THIS WORK</strong></a></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/profile.jpg" alt="I CAN MAKE THIS WORK" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/profile.jpg" alt="I CAN MAKE THIS WORK" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">I CAN MAKE THIS WORK</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"></ul></div></div></div></nav><div class="main-wrapper blog-wrapper"><div class="container margin-vert--lg"><div class="row"><div class="col col--2"><div class="sidebar_SWld thin-scrollbar"><h3 class="sidebarItemTitle_Km2m">Recent posts</h3><ul class="sidebarItemList_3UpA"><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/2021/03/10/managed-identity-azure-sql-entity-framework">Managed Identity, Azure SQL and Entity Framework</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/2021/03/06/generate-typescript-and-csharp-clients-with-nswag">Generate TypeScript and CSharp clients with NSwag based on an API</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/2021/02/27/goodbye-client-affinity-hello-data-protection-with-azure">Goodbye Client Affinity, Hello Data Protection with Azure</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/2021/02/16/easy-auth-tokens-survive-releases-on-linux-azure-app-service">Making Easy Auth tokens survive releases on Linux Azure App Service</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/2021/02/11/azure-app-service-health-checks-and-zero-downtime-deployments">Azure App Service, Health checks and zero downtime deployments</a></li></ul></div></div><main class="col col--8"><h1>2 posts tagged with &quot;thread-loader&quot;</h1><a href="/tags">View All Tags</a><div class="margin-vert--xl"><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_3-lP"><a href="/2018/12/22/you-might-not-need-thread-loader">You Might Not Need thread-loader</a></h2><div class="margin-vert--md"><time datetime="2018-12-22T00:00:00.000Z" class="blogPostDate_Ta7i">December 22, 2018  Â· 4 min read</time></div><div class="avatar margin-vert--md"><a class="avatar__photo-link avatar__photo" href="https://github.com/johnnyreilly" target="_blank" rel="noreferrer noopener"><img src="https://avatars.githubusercontent.com/u/1010525?s=400&amp;u=294033082cfecf8ad1645b4290e362583b33094a&amp;v=4" alt="John Reilly"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://github.com/johnnyreilly" target="_blank" rel="noreferrer noopener">John Reilly</a></h4><small class="avatar__subtitle"></small></div></div></header><section class="markdown"><p>It all started with a GitHub issue. <a href="https://github.com/namics/webpack-config-plugins/issues/24" target="_blank" rel="noopener noreferrer">Ernst Ammann reported</a>:</p><blockquote><p>Without the thread-loader, compilation takes three to four times less time on changes. We could remove it.</p></blockquote><p>If you&#x27;re not aware of the <a href="https://github.com/namics/webpack-config-plugins" target="_blank" rel="noopener noreferrer"><code>webpack-config-plugins</code></a> project then I commend it to you. Famously, webpack configuration can prove tricky. <code>webpack-config-plugins</code> borrows the idea of presets from Babel. It provides a number of pluggable webpack configurations which give a best practice setup for different webpack use cases. So if you&#x27;re no expert with webpack and you want a good setup for building your TypeScript / Sass / JavaScript then <code>webpack-config-plugins</code> has got your back.</p><p>One of the people behind the project is the very excellent <a href="https://github.com/jantimon" target="_blank" rel="noopener noreferrer">Jan Nicklas</a> who is well known for his work on the <a href="https://github.com/jantimon/html-webpack-plugin" target="_blank" rel="noopener noreferrer"><code>html-webpack-plugin</code></a>.</p><p>It was Jan who responded to Ernst&#x27;s issue and decided to look into it.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="all-i-want-for-christmas-is-faster-builds"></a>All I Want For Christmas is Faster Builds<a class="hash-link" href="#all-i-want-for-christmas-is-faster-builds" title="Direct link to heading">#</a></h2><p>Everyone wants fast builds. I do. You do. We all do. <code>webpack-config-plugins</code> is about giving these to the user in a precooked package.</p><p>There&#x27;s a webpack loader called <a href="https://github.com/webpack-contrib/thread-loader" target="_blank" rel="noopener noreferrer"><code>thread-loader</code></a> which spawns multiple processes and splits up work between them. It was originally inspired by the work in the happypack project which does a similar thing.</p><p>I wrote <a href="https://medium.com/p/83cc568dea79" target="_blank" rel="noopener noreferrer">a blog post</a> some time ago which gave details about ways to speed up your TypeScript builds by combining the <a href="https://github.com/TypeStrong/ts-loader" target="_blank" rel="noopener noreferrer"><code>ts-loader</code></a> project (which I manage) with the <a href="https://github.com/Realytics/fork-ts-checker-webpack-plugin" target="_blank" rel="noopener noreferrer"><code>fork-ts-checker-webpack-plugin</code></a> project (which I&#x27;m heavily involved with).</p><p>That post was written back in the days of webpack 2 / 3. It advocated use of both <code>happypack</code> / <code>thread-loader</code> to drop your build times even further. As you&#x27;ll see, now that we&#x27;re well into the world of webpack 4 (with webpack 5 waiting in the wings) the advantage of <code>happypack</code> / <code>thread-loader</code> are no longer so profound.</p><p><code>webpack-config-plugins</code> follows the advice I set out in my post; it uses <code>thread-loader</code> in its pluggable configurations. Now, back to Ernst&#x27;s issue.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="thread-loader-infinity-war"></a><code>thread-loader</code>: Infinity War<a class="hash-link" href="#thread-loader-infinity-war" title="Direct link to heading">#</a></h2><p>Jan quickly identified the problem. He did that rarest of things; he read the documentation which said:</p><div class="mdxCodeBlock_1zKU">      // timeout for killing the worker processes when idle // defaults to 500 (ms) // can be set to Infinity for watching builds to keep workers alive poolTimeout: 2000,</div><p>The <code>webpack-config-plugins</code> configurations (running in watch mode) were subject to the thread loaders being killed after 500ms. They got resurrected when they were next needed; but that&#x27;s not as instant as you might hope. Jan then did a test:</p><div class="mdxCodeBlock_1zKU">(default pool - 30 runs - 1000 components ) average: 2.668068965517241 (no thread-loader - 30 runs - 1000 components ) average: 1.2674137931034484 (Infinity pool - 30 runs - 1000 components ) average: 1.371827586206896</div><p>This demonstrates that using <code>thread-loader</code> in watch mode with <code>poolTimeout: Infinity</code> performs significantly better than when it defaults to 500ms. But perhaps more significantly, not using <code>thread-loader</code> performs even better still.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="maybe-youve-thread-enough"></a>&quot;Maybe You&#x27;ve Thread Enough&quot;<a class="hash-link" href="#maybe-youve-thread-enough" title="Direct link to heading">#</a></h2><p>When I tested using <code>thread-loader</code> in watch mode with <code>poolTimeout: Infinity</code> on my own builds I got the same benefit Jan had. I also got <em>even</em> more benefit from dropping <code>thread-loader</code> entirely.</p><p>A likely reason for this benefit is that typically when you&#x27;re developing, you&#x27;re working on one file at a time. Hence you only transpile one file at a time:</p><p><a href="https://2.bp.blogspot.com/-u2nbxnUAJXQ/XB8y1mF6hoI/AAAAAAAANRU/biYIfBaDsDwnNA2jp_YLNrLBcXWITAM1ACPcBGAYYCw/s1600/ts-profile2.png" target="_blank" rel="noopener noreferrer">![null](&lt;https://2.bp.blogspot.com/-u2nbxnUAJXQ/XB8y1mF6hoI/AAAAAAAANRU/biYIfBaDsDwnNA2jp_YLNrLBcXWITAM1ACPcBGAYYCw/s640/ts-profile2.png&gt; =640x173)</a>So there&#x27;s not a great deal of value that <code>thread-loader</code> can add here; mostly it&#x27;s twiddling thumbs and adding an overhead. <a href="https://github.com/webpack-contrib/thread-loader/blob/master/README.md#usage" target="_blank" rel="noopener noreferrer">To quote the docs:</a></p><blockquote><p>Each worker is a separate node.js process, which has an overhead of ~600ms. There is also an overhead of inter-process communication.</p><p>Use this loader only for expensive operations!</p></blockquote><p>Now, my build is not your build. I can&#x27;t guarantee that you&#x27;ll get the same results as Jan and I experienced; but I would encourage you to investigate if you&#x27;re using <code>thread-loader</code> correctly and whether it&#x27;s actually helping you. In these days of webpack 4+ perhaps it isn&#x27;t.</p><p>There are still scenarios where <code>thread-loader</code> still provides an advantage. It can speed up production builds. It can speed up the initial startup of watch mode. <a href="https://github.com/webpack-contrib/thread-loader/pull/52" target="_blank" rel="noopener noreferrer">In fact Jan has subsequently actually improved the <code>thread-loader</code> to that specific end.</a> Yay Jan!</p><p>If this is all too much for you, and you want to hand off the concern to someone else then perhaps all of this serves as a motivation to just sit back, put your feet up and start using <a href="https://github.com/namics/webpack-config-plugins" target="_blank" rel="noopener noreferrer"><code>webpack-config-plugins</code></a> instead of doing your own configuration.</p></section><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/tags/happy-pack">HappyPack</a><a class="margin-horiz--sm" href="/tags/thread-loader">thread-loader</a><a class="margin-horiz--sm" href="/tags/fork-ts-checker-webpack-plugin">fork-ts-checker-webpack-plugin</a><a class="margin-horiz--sm" href="/tags/ts-loader">ts-loader</a><a class="margin-horiz--sm" href="/tags/webpack">Webpack</a><a class="margin-horiz--sm" href="/tags/fast-builds">fast builds</a></div><div class="col text--right"><a aria-label="Read more about You Might Not Need thread-loader" href="/2018/12/22/you-might-not-need-thread-loader"><strong>Read More</strong></a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_3-lP"><a href="/2017/09/07/typescript-webpack-super-pursuit-mode">TypeScript + Webpack: Super Pursuit Mode</a></h2><div class="margin-vert--md"><time datetime="2017-09-07T00:00:00.000Z" class="blogPostDate_Ta7i">September 7, 2017  Â· 7 min read</time></div><div class="avatar margin-vert--md"><a class="avatar__photo-link avatar__photo" href="https://github.com/johnnyreilly" target="_blank" rel="noreferrer noopener"><img src="https://avatars.githubusercontent.com/u/1010525?s=400&amp;u=294033082cfecf8ad1645b4290e362583b33094a&amp;v=4" alt="John Reilly"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://github.com/johnnyreilly" target="_blank" rel="noreferrer noopener">John Reilly</a></h4><small class="avatar__subtitle"></small></div></div></header><section class="markdown"><p><em><a href="https://medium.com/webpack/typescript-webpack-super-pursuit-mode-83cc568dea79" target="_blank" rel="noopener noreferrer">This post also featured as a webpack Medium publication</a>.</em></p><p> If you&#x27;re like me then you&#x27;ll like TypeScript and you&#x27;ll like module bundling with webpack. You may also like speedy builds. That&#x27;s completely understandable. The fact of the matter is, you sacrifice a bit of build speed to have webpack in the mix. Wouldn&#x27;t it be great if we could even up the difference?</p><p>I&#x27;m the primary maintainer of ts-loader, a TypeScript loader for webpack. Just recently a couple of PRs were submitted that said, in other words: ts-loader is like this:</p><p><a href="https://3.bp.blogspot.com/-31rZcGTrXpk/WThjLBJlBfI/AAAAAAAAFQY/13XSYUVr27IPgtQr80KhQpdDVVKmwaxIgCPcB/s1600/KITT.jpg" target="_blank" rel="noopener noreferrer">![null](&lt;https://3.bp.blogspot.com/-31rZcGTrXpk/WThjLBJlBfI/AAAAAAAAFQY/13XSYUVr27IPgtQr80KhQpdDVVKmwaxIgCPcB/s400/KITT.jpg&gt; =400x233)</a>But it could be like this:</p><p><a href="https://2.bp.blogspot.com/-Mktfora8HfA/WThj-Z-mm0I/AAAAAAAAFQc/stDPTjNiQmUlDIUaCfaN9qjqEUostR_YACLcB/s1600/webkitt.jpg" target="_blank" rel="noopener noreferrer">![null](&lt;https://2.bp.blogspot.com/-Mktfora8HfA/WThj-Z-mm0I/AAAAAAAAFQc/stDPTjNiQmUlDIUaCfaN9qjqEUostR_YACLcB/s400/webkitt.jpg&gt; =400x225)</a>Apologies for the image quality above; there appear to be no high quality pictures out there of KITT in Super Pursuit Mode for me to defame with <a href="https://github.com/plemont" target="_blank" rel="noopener noreferrer">Garan Jenkin</a>&#x27;s atrocious puns.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="fork-ts-checker-webpack-plugin"></a>fork-ts-checker-webpack-plugin<a class="hash-link" href="#fork-ts-checker-webpack-plugin" title="Direct link to heading">#</a></h2><p><a href="https://github.com/TypeStrong/ts-loader/issues/537" target="_blank" rel="noopener noreferrer">&quot;Faster type checking with forked process&quot;</a> read the enticing name of the issue. It turned out to be <a href="https://github.com/piotr-oles" target="_blank" rel="noopener noreferrer">Piotr OleÅ›</a> (<a href="https://twitter.com/OlesDev" target="_blank" rel="noopener noreferrer">@OlesDev</a>) telling the world about his beautiful creation. He&#x27;d put together a mighty fine plugin that can be used alongside ts-loader called the <a href="https://github.com/Realytics/fork-ts-checker-webpack-plugin" target="_blank" rel="noopener noreferrer">fork-ts-checker-webpack-plugin</a>. The name is a bit of a mouthful but the purpose is mouth-watering. To quote the README, it is a:</p><blockquote><p>Webpack plugin that runs typescript type checker on a separate process.</p></blockquote><p>What does this mean and how does this fit with ts-loader? Well, ts-loader does 2 jobs:</p><ol><li>It transpiles your TypeScript into JavaScript and hands it off to webpack</li><li>It collects any TypeScript compilation errors and reports them to webpack</li></ol><p>What this plugin does is say, &quot;forget about #2 - we&#x27;ve got this.&quot; It removes the responsibility for type checking from ts-loader, so the only work ts-loader does is transpilation. In the meantime, the all important type checking is still happening. To be honest, there would be little reason to recommend this approach otherwise. The difference is <code>fork-ts-checker-webpack-plugin</code> is doing the heavy lifting <strong>in a separate process</strong>. This provides a nice performance boost to your workflow. ts-loader is doing <strong>less</strong> and that&#x27;s a <u>good thing</u></p><p>.</p><p>The approach used here is similar to that employed by awesome-typescript-loader. ATL is another TypeScript loader for webpack by the excellent <a href="https://github.com/s-panferov" target="_blank" rel="noopener noreferrer">Stanislav Panferov</a>. ATL also has a technique for performing typechecking in a forked process. fork-ts-checker-webpack-plugin was an effort by Piotr to implement something similar but with improved incremental build performance.</p><p>How do we use it? Add fork-ts-checker-webpack-plugin as a <code>devDependency</code> of your project and then amend the <code>webpack.config.js</code> to set ts-loader into <code>transpileOnly</code> mode and drop the plugin into the mix:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-js codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> </span><span class="token maybe-class-name">ForkTsCheckerWebpackPlugin</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">require</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;fork-ts-checker-webpack-plugin&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> webpackConfig </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// other config...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  context</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> __dirname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// to automatically find tsconfig.json</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  module</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    rules</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        test</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">\.tsx?$</span><span class="token regex regex-delimiter">/</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        loader</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ts-loader&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        options</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// disable type checker - we will use it in fork plugin</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          transpileOnly</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token plain"> </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  plugins</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">ForkTsCheckerWebpackPlugin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>If you&#x27;d like to see an example of how to use the plugin then take a look at a <a href="https://github.com/TypeStrong/ts-loader/tree/master/examples/fork-ts-checker" target="_blank" rel="noopener noreferrer">simple example</a> and a <a href="https://github.com/TypeStrong/ts-loader/tree/master/examples/react-babel-karma-gulp-fork-ts-checker" target="_blank" rel="noopener noreferrer">more involved one</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="happypack"></a>HappyPack<a class="hash-link" href="#happypack" title="Direct link to heading">#</a></h2><p>Not so long ago I didn&#x27;t know what <strike>happyness</strike></p><p><a href="https://github.com/amireh/happypack" target="_blank" rel="noopener noreferrer">HappyPack</a> was. &quot;Happiness in the form of faster webpack build times.&quot; That&#x27;s what it is.</p><blockquote><p>HappyPack makes webpack builds faster by allowing you to transform multiple files in parallel.</p></blockquote><p>It does this by spinning up multiple threads, each with their own loaders inside. We wanted to do this with ts-loader; to have multiple instances of ts-loader running. Work can then be divided up across these separate loaders. Isn&#x27;t multi-threading great?</p><p>ts-loader did not initially play nicely with HappyPack; essentially this is because ts-loader touches parts of webpack&#x27;s API that HappyPack replaces. The entirely wonderful <a href="https://github.com/aindlq" target="_blank" rel="noopener noreferrer">Artem Kozlov</a> submitted a <a href="https://github.com/TypeStrong/ts-loader/pull/547" target="_blank" rel="noopener noreferrer">PR which added HappyPack support to ts-loader</a>. Support essentially amounts to switching ts-loader to run in <code>transpileOnly</code> mode and ensuring that there is no attempt to talk to parts of the webpack API that HappyPack removes.</p><p>It would be hard to recommend using HappyPack as is because, as with <code>transpileOnly</code> mode you lose all typechecking. Where it becomes worthwhile is where it is combined with the fork-ts-checker-webpack-plugin so you keep the typechecking.</p><p>Enough with the chitter chatter; how can we achieve this? Add HappyPack as a <code>devDependency</code> of your project and then amend the <code>webpack.config.js</code> as follows:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-js codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> </span><span class="token maybe-class-name">HappyPack</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">require</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;happypack&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> </span><span class="token maybe-class-name">ForkTsCheckerWebpackPlugin</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">require</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;fork-ts-checker-webpack-plugin&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// other config...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    context</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> __dirname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// to automatically find tsconfig.json</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    module</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        rules</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                test</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">\.tsx?$</span><span class="token regex regex-delimiter">/</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                exclude</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">node_modules</span><span class="token regex regex-delimiter">/</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                loader</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;happypack/loader?id=ts&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    plugins</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">HappyPack</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            id</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ts&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            threads</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            loaders</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    path</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ts-loader&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    query</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> happyPackMode</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">ForkTsCheckerWebpackPlugin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> checkSyntacticErrors</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Note that the ts-loader options are now configured via the HappyPack <code>query</code> and that we&#x27;re setting ts-loader with the <code>happyPackMode</code> option set.</p><p>There&#x27;s one other thing to note which is important; we&#x27;re now passing the <code>checkSyntacticErrors</code> option to the fork plugin. This ensures that the plugin checks for both syntactic errors (eg <code>const array = [{} {}];</code>) and semantic errors (eg <code>const x: number = &#x27;1&#x27;;</code>). By default the plugin only checks for semantic errors. This is because when ts-loader is used with <code>transpileOnly</code> set, ts-loader will still report syntactic errors. But when used in <code>happyPackMode</code> it does not.</p><p>If you&#x27;d like to see an example of how to use HappyPack then once again we have a <a href="https://github.com/TypeStrong/ts-loader/tree/master/examples/happypack" target="_blank" rel="noopener noreferrer">simple example</a> and a <a href="https://github.com/TypeStrong/ts-loader/tree/master/examples/react-babel-karma-gulp-happypack" target="_blank" rel="noopener noreferrer">more involved one</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="thread-loader--cache-loader"></a><code>thread-loader</code> + <code>cache-loader</code><a class="hash-link" href="#thread-loader--cache-loader" title="Direct link to heading">#</a></h2><p>You might have some reservations about using HappyPack. First of all the quirky configuration required makes your webpack config rather less comprehensible. Also, HappyPack is not officially blessed by webpack. It is a side project developed externally from webpack and there&#x27;s no guarantees that new versions of webpack won&#x27;t break it. Neither of these are reasons not to use HappyPack but they are things to bear in mind.</p><p>What if there were a way to parallelise our builds which dealt with these issues? Well, there is! By using <a href="https://github.com/webpack-contrib/thread-loader" target="_blank" rel="noopener noreferrer">thread-loader</a> and <a href="https://github.com/webpack-contrib/cache-loader" target="_blank" rel="noopener noreferrer">cache-loader</a> in combination you can both feel happy that you&#x27;re using an official webpack workflow and you can have a config that&#x27;s less confusing.</p><p>What would that config look like? This:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-js codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> </span><span class="token maybe-class-name">ForkTsCheckerWebpackPlugin</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">require</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;fork-ts-checker-webpack-plugin&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// other config...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    context</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> __dirname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// to automatically find tsconfig.json</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    module</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        rules</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            test</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">\.tsx?$</span><span class="token regex regex-delimiter">/</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            use</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> loader</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;cache-loader&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    loader</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;thread-loader&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    options</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// there should be 1 cpu for the fork-ts-checker-webpack-plugin</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                        workers</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">require</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;os&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">cpus</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    loader</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ts-loader&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    options</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                        happyPackMode</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// IMPORTANT! use happyPackMode mode to speed-up compilation and reduce errors reported to webpack</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    plugins</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">ForkTsCheckerWebpackPlugin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> checkSyntacticErrors</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>As you can see the configuration is much cleaner than with HappyPack. Interestingly ts-loader still needs to run in &quot;<code>happyPackMode</code>&quot; and that&#x27;s because thread-loader is essentially behaving in the same fashion as with HappyPack and so ts-loader needs to behave in the same way. Probably ts-loader should have a more generic flag name than &quot;<code>happyPackMode</code>&quot;. (Famously, naming things is hard; so if you&#x27;ve a good idea, tell me!)</p><p>These loaders are new and so tread carefully. My own experiences have been pretty positive but your mileage may vary. Do note that, as with HappyPack, the thread-loader is highly configurable.</p><p>If you&#x27;d like to see an example of how to use thread-loader and cache-loader then once again we have a <a href="https://github.com/TypeStrong/ts-loader/tree/master/examples/thread-loader" target="_blank" rel="noopener noreferrer">simple example</a> and a <a href="https://github.com/TypeStrong/ts-loader/tree/master/examples/react-babel-karma-gulp-thread-loader" target="_blank" rel="noopener noreferrer">more involved one</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="all-this-could-be-yours"></a>All This Could Be Yours...<a class="hash-link" href="#all-this-could-be-yours" title="Direct link to heading">#</a></h2><blockquote><p>Wow! It looks like we can cut our build time by 4 minutes! <a href="https://twitter.com/hashtag/webpack?src=hash" target="_blank" rel="noopener noreferrer">#webpack</a><a href="https://twitter.com/typescriptlang" target="_blank" rel="noopener noreferrer">@typescriptlang</a> // cc <a href="https://twitter.com/johnny_reilly" target="_blank" rel="noopener noreferrer">@johnny_reilly</a><a href="https://t.co/gjvy9SLBAT" target="_blank" rel="noopener noreferrer">pic.twitter.com/gjvy9SLBAT</a></p><p>â€” Donald Pipowitch (@PipoPeperoni) <a href="https://twitter.com/PipoPeperoni/status/878148978356834304" target="_blank" rel="noopener noreferrer">June 23, 2017</a></p></blockquote><script src="//platform.twitter.com/widgets.js" charset="utf-8"></script><p>In this post we&#x27;re improving build speeds with TypeScript and webpack in 3 ways:</p><dl><dt>fork-ts-checker-webpack-plugin</dt><dd>With this plugin in play ts-loader only performs transpilation. ts-loader is doing less so the build is faster.</dd><dt>HappyPack</dt><dd>With HappyPack in the mix, the build is parallelised. That parallelisation means the build is faster.</dd><dt>thread-loader / cache-loader</dt><dd>With thread-loader and cache-loader, again the build is parallelised and the build is faster.</dd></dl><iframe src="https://giphy.com/embed/Bo2WsocASVBm0" width="240" height="180" frameborder="0"></iframe></section><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/tags/happy-pack">HappyPack</a><a class="margin-horiz--sm" href="/tags/type-script">TypeScript</a><a class="margin-horiz--sm" href="/tags/cache-loader">cache-loader</a><a class="margin-horiz--sm" href="/tags/thread-loader">thread-loader</a><a class="margin-horiz--sm" href="/tags/fork-ts-checker-webpack-plugin">fork-ts-checker-webpack-plugin</a><a class="margin-horiz--sm" href="/tags/webpack">Webpack</a></div><div class="col text--right"><a aria-label="Read more about TypeScript + Webpack: Super Pursuit Mode" href="/2017/09/07/typescript-webpack-super-pursuit-mode"><strong>Read More</strong></a></div></footer></article></div></main></div></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 John Reilly. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.f8cbd7ed.js"></script>
<script src="/runtime~main.9d913733.js"></script>
<script src="/main.b39d16fe.js"></script>
<script src="/1.9d1369a3.js"></script>
<script src="/2.b8669f88.js"></script>
<script src="/6875c492.01bbbe97.js"></script>
<script src="/c3b5bd8c.0459a1fb.js"></script>
<script src="/cb8d7bac.d703c77f.js"></script>
<script src="/c807b9b9.56caa793.js"></script>
<script src="/3b7fae8b.3939d6ed.js"></script>
</body>
</html>