<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog.johnnyreilly.com/rss.xml" title="I CAN MAKE THIS WORK Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog.johnnyreilly.com/atom.xml" title="I CAN MAKE THIS WORK Blog Atom Feed"><title data-react-helmet="true">Posts tagged &quot;internationalisation&quot; | I CAN MAKE THIS WORK</title><meta data-react-helmet="true" property="og:title" content="Posts tagged &quot;internationalisation&quot; | I CAN MAKE THIS WORK"><meta data-react-helmet="true" name="description" content="Blog | Tagged &quot;internationalisation&quot;"><meta data-react-helmet="true" property="og:description" content="Blog | Tagged &quot;internationalisation&quot;"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><link data-react-helmet="true" rel="shortcut icon" href="/blog.johnnyreilly.com/img/favicon.ico"><link rel="stylesheet" href="/blog.johnnyreilly.com/styles.a755cef0.css">
<link rel="preload" href="/blog.johnnyreilly.com/styles.acafb066.js" as="script">
<link rel="preload" href="/blog.johnnyreilly.com/runtime~main.ff161662.js" as="script">
<link rel="preload" href="/blog.johnnyreilly.com/main.c1c76de5.js" as="script">
<link rel="preload" href="/blog.johnnyreilly.com/1.08786e85.js" as="script">
<link rel="preload" href="/blog.johnnyreilly.com/2.4fd9db96.js" as="script">
<link rel="preload" href="/blog.johnnyreilly.com/6875c492.bb1a777b.js" as="script">
<link rel="preload" href="/blog.johnnyreilly.com/c3b5bd8c.4fdda474.js" as="script">
<link rel="preload" href="/blog.johnnyreilly.com/e716e4a2.18022198.js" as="script">
<link rel="preload" href="/blog.johnnyreilly.com/e0feb3cf.fb07f3e0.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/blog.johnnyreilly.com/"><img src="/blog.johnnyreilly.com/img/profile.jpg" alt="I CAN MAKE THIS WORK" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/blog.johnnyreilly.com/img/profile.jpg" alt="I CAN MAKE THIS WORK" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">I CAN MAKE THIS WORK</strong></a></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/blog.johnnyreilly.com/"><img src="/blog.johnnyreilly.com/img/profile.jpg" alt="I CAN MAKE THIS WORK" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/blog.johnnyreilly.com/img/profile.jpg" alt="I CAN MAKE THIS WORK" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">I CAN MAKE THIS WORK</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"></ul></div></div></div></nav><div class="main-wrapper blog-wrapper"><div class="container margin-vert--lg"><div class="row"><div class="col col--2"><div class="sidebar_SWld thin-scrollbar"><h3 class="sidebarItemTitle_Km2m">Recent posts</h3><ul class="sidebarItemList_3UpA"><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/blog.johnnyreilly.com/2021/02/27/goodbye-client-affinity-hello-data-protection-with-azure">Goodbye Client Affinity, Hello Data Protection with Azure</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/blog.johnnyreilly.com/2021/02/16/easy-auth-tokens-survive-releases-on-linux-azure-app-service">Making Easy Auth tokens survive releases on Linux Azure App Service</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/blog.johnnyreilly.com/2021/02/11/azure-app-service-health-checks-and-zero-downtime-deployments">Azure App Service, Health checks and zero downtime deployments</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/blog.johnnyreilly.com/2021/02/08/arm-templates-security-role-assignments">ARM templates, security, role assignments and magic GUIDs</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/blog.johnnyreilly.com/2021/01/30/aspnet-serilog-and-application-insights">ASP.NET, Serilog and Application Insights</a></li></ul></div></div><main class="col col--8"><h1>1 post tagged with &quot;internationalisation&quot;</h1><a href="/blog.johnnyreilly.com/tags">View All Tags</a><div class="margin-vert--xl"><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_3-lP"><a href="/blog.johnnyreilly.com/2012/09/06/globalize-and-jquery-validate">Globalize and jQuery Validation</a></h2><div class="margin-vert--md"><time datetime="2012-09-06T00:00:00.000Z" class="blogPostDate_Ta7i">September 6, 2012  Â· 4 min read</time></div><div class="avatar margin-vert--md"><a class="avatar__photo-link avatar__photo" href="https://github.com/johnnyreilly" target="_blank" rel="noreferrer noopener"><img src="https://avatars.githubusercontent.com/u/1010525?s=400&amp;u=294033082cfecf8ad1645b4290e362583b33094a&amp;v=4" alt="John Reilly"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://github.com/johnnyreilly" target="_blank" rel="noreferrer noopener">John Reilly</a></h4><small class="avatar__subtitle"></small></div></div></header><section class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="update-05102015"></a>Update 05/10/2015<a class="hash-link" href="#update-05102015" title="Direct link to heading">#</a></h2><p> If you&#x27;re after a version of this that works with Globalize 1.x then take a look <a href="/blog.johnnyreilly.com/2015/10/jquery-validation-globalize-hits-10.html">here</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="update-27082013"></a>Update 27/08/2013<a class="hash-link" href="#update-27082013" title="Direct link to heading">#</a></h2><p>To make it easier for people to use the approach detailed in this post I have created a repository for <code>jquery.validate.globalize.js</code> on GitHub <a href="https://github.com/johnnyreilly/jquery-validation-globalize" target="_blank" rel="noopener noreferrer">here</a>.</p><p>This is also available as a nuget package <a href="https://www.nuget.org/packages/jQuery.Validation.Globalize/" target="_blank" rel="noopener noreferrer">here</a>.</p><p>To see a good demo take a look <a href="http://jqueryvalidationunobtrusivenative.azurewebsites.net/AdvancedDemo/Globalize" target="_blank" rel="noopener noreferrer">here</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="background"></a>Background<a class="hash-link" href="#background" title="Direct link to heading">#</a></h2><p><a href="http://icanmakethiswork.blogspot.co.uk/2012/05/globalizejs-number-and-date.html" target="_blank" rel="noopener noreferrer">I&#x27;ve written before about a great little library called Globalize</a> which makes locale specific number / date formatting simple within JavaScript. And I&#x27;ve just stumbled upon an <a href="http://www.hanselman.com/blog/GlobalizationInternationalizationAndLocalizationInASPNETMVC3JavaScriptAndJQueryPart1.aspx" target="_blank" rel="noopener noreferrer">old post written by Scott Hanselman about the business of Globalisation / Internationalisation / Localisation within ASP.NET</a>. It&#x27;s a great post and I recommend reading it (I&#x27;m using many of the approaches he discusses).</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="jquery-global-is-dead-long-live-globalize"></a>jQuery Global is dead... Long live Globalize!<a class="hash-link" href="#jquery-global-is-dead-long-live-globalize" title="Direct link to heading">#</a></h2><p>However, there&#x27;s one tweak I would make to Scotts suggestions and that&#x27;s to use Globalize in place of the jQuery Global plugin. The jQuery Global plugin has now effectively been reborn as Globalize (with no dependancy on jQuery). As far as I can tell jQuery Global is now disappearing from the web - certainly the link in Scotts post is dead now at least. I&#x27;ve <del>ripped off</del> been inspired by the &quot;Globalized jQuery Unobtrusive Validation&quot; section of Scotts article and made <code>jquery.validate.globalize.js</code>.</p><p>And for what it&#x27;s worth <code>jquery.validate.globalize.js</code> applies equally to standard jQuery Validation as well as to jQuery Unobtrusive Validation. I say that as the above JavaScript is effectively a monkey patch to the number / date / range / min / max methods of jQuery.validate.js which forces these methods to use Globalize&#x27;s parsing support instead.</p><p>Here&#x27;s the JavaScript:</p><script src="https://gist.github.com/3651751.js?file=jquery.validate.globalize.js"></script><p>The above script does 2 things. Firstly it monkey patches jquery.validate.js to make use of Globalize.js number and date parsing in place of the defaults. Secondly it initialises Globalize to relevant current culture driven by the <code>html lang</code> property. So if the html tag looked like this:</p><div class="mdxCodeBlock_1zKU">&lt;html lang=&quot;de-DE&quot;&gt; ... &lt;/html&gt;</div><p>Then Globalize would be initialised with the &quot;de-DE&quot; culture assuming that culture was available and had been served up to the client. (By the way, the Globalize initialisation logic has only been placed in the code above to demonstrate that Globalize needs to be initialised to the culture. It&#x27;s more likely that this initialisation step would sit elsewhere in a &quot;proper&quot; app.)</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="wait-wheres-html-lang-getting-set"></a>Wait, where&#x27;s <code>html lang</code> getting set?<a class="hash-link" href="#wait-wheres-html-lang-getting-set" title="Direct link to heading">#</a></h2><p>In Scott&#x27;s article he created a <code>MetaAcceptLanguage</code> helper to generate a META tag like this: <code>&amp;lt;meta name=&quot;accept-language&quot; content=&quot;en-GB&quot; /&amp;gt;</code> which he used to drive Globalizes specified culture.</p><p>Rather than generating a meta tag I&#x27;ve chosen to use the <code>lang</code> attribute of the <code>html</code> tag to specify the culture. I&#x27;ve chosen to do this as it&#x27;s more in line with the <a href="http://www.w3.org/TR/i18n-html-tech-lang/#ri20030510.102829377" target="_blank" rel="noopener noreferrer">W3C spec</a>. But it should be noted this is just a different way of achieving exactly the same end.</p><p>So how&#x27;s it getting set? Well, it&#x27;s no great shakes; in my <code>_Layout.cshtml</code> file my html tag looks like this:</p><div class="mdxCodeBlock_1zKU">&lt;html lang=&quot;@System.Globalization.CultureInfo.CurrentUICulture.Name&quot;&gt;</div><p>And in my <code>web.config</code> I have following setting set:</p><div class="mdxCodeBlock_1zKU">&lt;configuration&gt; &lt;system.web&gt; &lt;globalization culture=&quot;auto&quot; uiCulture=&quot;auto&quot; /&gt; &lt;!--- Other stuff.... --&gt; &lt;/system.web&gt; &lt;/configuration&gt;</div><p>With both of these set this means I get <code>&amp;lt;html lang=&quot;de-DE&quot;&amp;gt;</code> or <code>&amp;lt;html lang=&quot;en-GB&quot;&amp;gt;</code> etc. depending on a users culture.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="serving-up-the-right-globalize-culture-files"></a>Serving up the right Globalize culture files<a class="hash-link" href="#serving-up-the-right-globalize-culture-files" title="Direct link to heading">#</a></h2><p>In order that I send the correct Globalize culture to the client I&#x27;ve come up with this static class which provides the user with the relevant culture URL (falling back to the en-GB culture if it can&#x27;t find one based your culture):</p><script src="https://gist.github.com/3651751.js?file=GlobalizeUrls.cs"></script><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="putting-it-all-together"></a>Putting it all together<a class="hash-link" href="#putting-it-all-together" title="Direct link to heading">#</a></h2><p>To make use of all of this together you&#x27;ll need to have the <code>html lang</code> attribute set as described earlier and some scripts output in your layout page like this:</p><div class="mdxCodeBlock_1zKU">&lt;script src=&quot;@Url.Content(&quot;~/Scripts/jquery.js&quot;)&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt; &lt;script src=&quot;@Url.Content(GlobalizeUrls.Globalize)&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt; &lt;script src=&quot;@Url.Content(GlobalizeUrls.GlobalizeCulture)&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt; &lt;script src=&quot;@Url.Content(&quot;~/Scripts/jquery.validate.js&quot;)&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt; &lt;script src=&quot;@Url.Content(&quot;~/scripts/jquery.validate.globalize.js&quot;)&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt; @* Only serve the following script if you need it: *@ &lt;script src=&quot;@Url.Content(&quot;~/scripts/jquery.validate.unobtrusive.js&quot;)&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;</div><p>Which will render something like this:</p><div class="mdxCodeBlock_1zKU">&lt;script src=&quot;/Scripts/jquery.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt; &lt;script src=&quot;/Scripts/globalize.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt; &lt;script src=&quot;/scripts/globalize/globalize.culture.en-GB.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt; &lt;script src=&quot;/Scripts/jquery.validate.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt; &lt;script src=&quot;/Scripts/jquery.validate.globalize.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt; &lt;script src=&quot;/Scripts/jquery.validate.unobtrusive.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;</div><p>This will load up jQuery, Globalize, your Globalize culture, jQuery Validate, jQuery Validates unobtrusive extensions (which you don&#x27;t need if you&#x27;re not using them) and the jQuery Validate Globalize script which will set up culture aware validation.</p><p>Finally and just to re-iterate, it&#x27;s highly worthwhile to give <a href="http://www.hanselman.com/blog/GlobalizationInternationalizationAndLocalizationInASPNETMVC3JavaScriptAndJQueryPart1.aspx" target="_blank" rel="noopener noreferrer">Scott Hanselman&#x27;s original article a look</a>. Most all the ideas in here were taken wholesale from him!</p></section><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog.johnnyreilly.com/tags/asp-net-mvc">asp.net mvc</a><a class="margin-horiz--sm" href="/blog.johnnyreilly.com/tags/internationalisation">Internationalisation</a><a class="margin-horiz--sm" href="/blog.johnnyreilly.com/tags/globalization">Globalization</a><a class="margin-horiz--sm" href="/blog.johnnyreilly.com/tags/globalize-js">Globalize JS</a><a class="margin-horiz--sm" href="/blog.johnnyreilly.com/tags/localisation">Localisation</a><a class="margin-horiz--sm" href="/blog.johnnyreilly.com/tags/j-query-validation">jQuery Validation</a><a class="margin-horiz--sm" href="/blog.johnnyreilly.com/tags/j-query-validate-js">jQuery.validate.js</a></div><div class="col text--right"><a aria-label="Read more about Globalize and jQuery Validation" href="/blog.johnnyreilly.com/2012/09/06/globalize-and-jquery-validate"><strong>Read More</strong></a></div></footer></article></div></main></div></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 John Reilly. Built with Docusaurus.</div></div></div></footer></div>
<script src="/blog.johnnyreilly.com/styles.acafb066.js"></script>
<script src="/blog.johnnyreilly.com/runtime~main.ff161662.js"></script>
<script src="/blog.johnnyreilly.com/main.c1c76de5.js"></script>
<script src="/blog.johnnyreilly.com/1.08786e85.js"></script>
<script src="/blog.johnnyreilly.com/2.4fd9db96.js"></script>
<script src="/blog.johnnyreilly.com/6875c492.bb1a777b.js"></script>
<script src="/blog.johnnyreilly.com/c3b5bd8c.4fdda474.js"></script>
<script src="/blog.johnnyreilly.com/e716e4a2.18022198.js"></script>
<script src="/blog.johnnyreilly.com/e0feb3cf.fb07f3e0.js"></script>
</body>
</html>