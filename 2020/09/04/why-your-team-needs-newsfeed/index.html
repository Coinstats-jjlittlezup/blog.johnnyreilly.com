<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.72">
<link rel="alternate" type="application/rss+xml" href="/rss.xml" title="I CAN MAKE THIS WORK Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="I CAN MAKE THIS WORK Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-51754530-2","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><title data-react-helmet="true">Why your team needs a newsfeed | I CAN MAKE THIS WORK</title><meta data-react-helmet="true" property="og:title" content="Why your team needs a newsfeed | I CAN MAKE THIS WORK"><meta data-react-helmet="true" name="description" content="I&#x27;m part of a team that builds an online platform. I&#x27;m often preoccupied by how to narrow the gap between our users and &quot;us&quot; - the people that build the platform. It&#x27;s important we understand how people use and interact with what we&#x27;ve built. If we don&#x27;t then we&#x27;re liable to waste our time and energy building the wrong things. Or the wrong amount of the right things."><meta data-react-helmet="true" property="og:description" content="I&#x27;m part of a team that builds an online platform. I&#x27;m often preoccupied by how to narrow the gap between our users and &quot;us&quot; - the people that build the platform. It&#x27;s important we understand how people use and interact with what we&#x27;ve built. If we don&#x27;t then we&#x27;re liable to waste our time and energy building the wrong things. Or the wrong amount of the right things."><meta data-react-helmet="true" property="og:image" content="https://blog.johnnyreilly.com/img/profile.png"><meta data-react-helmet="true" name="twitter:image" content="https://blog.johnnyreilly.com/img/profile.png"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://blog.johnnyreilly.com/2020/09/04/why-your-team-needs-newsfeed"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://blog.johnnyreilly.com/2020/09/04/why-your-team-needs-newsfeed"><link data-react-helmet="true" rel="alternate" href="https://blog.johnnyreilly.com/2020/09/04/why-your-team-needs-newsfeed" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://blog.johnnyreilly.com/2020/09/04/why-your-team-needs-newsfeed" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.3ed665c6.css">
<link rel="preload" href="/assets/js/styles.f7659eed.js" as="script">
<link rel="preload" href="/assets/js/runtime~main.42fd7806.js" as="script">
<link rel="preload" href="/assets/js/main.77bdfe03.js" as="script">
<link rel="preload" href="/assets/js/1.194e3740.js" as="script">
<link rel="preload" href="/assets/js/2.85d4c801.js" as="script">
<link rel="preload" href="/assets/js/ccc49370.9f01aebe.js" as="script">
<link rel="preload" href="/assets/js/c3b5bd8c.35df78b9.js" as="script">
<link rel="preload" href="/assets/js/8890ac7a.02ed3bf9.js" as="script">
<link rel="preload" href="/assets/js/fe3d2add.7a8be31b.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/profile.jpg" alt="I CAN MAKE THIS WORK" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/profile.jpg" alt="I CAN MAKE THIS WORK" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">I CAN MAKE THIS WORK</strong></a><a class="navbar__item navbar__link" href="/about">About</a><a class="navbar__item navbar__link" href="/blog-archive">Blog Archive</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/johnnyreilly" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><a href="https://twitter.com/johnny_reilly" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Twitter</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_GrZ2"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/profile.jpg" alt="I CAN MAKE THIS WORK" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/profile.jpg" alt="I CAN MAKE THIS WORK" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">I CAN MAKE THIS WORK</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/about">About</a></li><li class="menu__list-item"><a class="menu__link" href="/blog-archive">Blog Archive</a></li><li class="menu__list-item"><a href="https://github.com/johnnyreilly" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li><li class="menu__list-item"><a href="https://twitter.com/johnny_reilly" target="_blank" rel="noopener noreferrer" class="menu__link">Twitter</a></li></ul></div></div></div></nav><div class="main-wrapper blog-wrapper"><div class="container margin-vert--lg"><div class="row"><div class="col col--3"><div class="sidebar_2ahu thin-scrollbar"><h3 class="sidebarItemTitle_2hhb">Recent posts</h3><ul class="sidebarItemList_2xAf"><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/2021/03/20/bicep-meet-azure-pipelines">Bicep meet Azure Pipelines</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/2021/03/17/rss-update-we-moved-to-docusaurus">RSS update; we moved to Docusaurus</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/2021/03/15/from-blogger-to-docusaurus">From Blogger to Docusaurus</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/2021/03/10/managed-identity-azure-sql-entity-framework">Managed Identity, Azure SQL and Entity Framework</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/2021/03/06/generate-typescript-and-csharp-clients-with-nswag">Generate TypeScript and CSharp clients with NSwag based on an API</a></li></ul></div></div><main class="col col--7"><article><header><h1 class="margin-bottom--sm blogPostTitle_GeHD">Why your team needs a newsfeed</h1><div class="margin-vert--md"><time datetime="2020-09-04T00:00:00.000Z" class="blogPostDate_fNvV">September 4, 2020 · 6 min read</time></div><div class="avatar margin-vert--md"><a href="https://github.com/johnnyreilly" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img src="https://blog.johnnyreilly.com/img/profile.jpg" alt="John Reilly"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://github.com/johnnyreilly" target="_blank" rel="noopener noreferrer">John Reilly</a></h4><small class="avatar__subtitle"></small></div></div></header><div class="markdown"><p>I&#x27;m part of a team that builds an online platform. I&#x27;m often preoccupied by how to narrow the gap between our users and &quot;us&quot; - the people that build the platform. It&#x27;s important we understand how people use and interact with what we&#x27;ve built. If we don&#x27;t then we&#x27;re liable to waste our time and energy building the wrong things. Or the wrong amount of the right things.</p><p>On a recent holiday I spent a certain amount of time pondering how to narrow the gap between our user and us. We have lots of things that help us; we use various analytics tools like <a href="https://mixpanel.com/" target="_blank" rel="noopener noreferrer">mixpanel</a>, we&#x27;ve got a mini analytics platform of our own, we have teams notifications that pop up client feedback and so on. They are all great, but they&#x27;re somewhat disparate; they don&#x27;t give us a clear insight as to who uses our platform and how they do so. The information is there, but it&#x27;s tough to grok. It doesn&#x27;t make for a joined up story.</p><p>Reaching around for how to solve this I had an idea: what if our platform had a newsfeed? The kind of thing that social media platforms the likes of Twitter and Facebook have used to great effect; a stream of mini-activities which show how the community interacts with the product. People logging in and browsing around, using features on the platform. If we could see this in near real time we&#x27;d be brought closer to our users; we&#x27;d have something that would help us have real empathy and understanding. We&#x27;d see our product as the stories of users interacting with it.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="how-do-you-build-a-newsfeed"></a>How do you build a newsfeed?<a class="hash-link" href="#how-do-you-build-a-newsfeed" title="Direct link to heading">#</a></h2><p>This was an experiment that seemed worth pursuing. So I decided to build a proof of concept and see what happened. Now I intended to put the &quot;M&quot; into MVP with this; I went in with a number of intentional constraints:</p><ol><li>The news feed wouldn&#x27;t auto update (users have the F5 key for that)</li><li>We&#x27;d host the newsfeed in our own mini analytics platform (which is already used by the team to understand how people use the platform)</li><li>News stories wouldn&#x27;t be stored anywhere; we&#x27;d generate them on the fly by querying various databases / APIs. The cost of this would be that our news stories wouldn&#x27;t be &quot;persistent&quot;; you wouldn&#x27;t be able to address them with a URL; there&#x27;d be no way to build &quot;like&quot; or &quot;share&quot; functionality.</li></ol><p>All of the above constraints are, importantly, reversable decisions. If we want auto update it could be built later. If we want the newsfeed to live somewhere else we could move it. If we wanted news stories to be persisted then we could do that.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="implementation"></a>Implementation<a class="hash-link" href="#implementation" title="Direct link to heading">#</a></h2><p>With these constraints in mind, I turned my attention to the implementation. I built a <code>NewsFeedService</code> that would be queried for news stories. The interface I decided to build looked like this:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">NewsFeedService.getNewsFeed(from: Date, to: Date): NewsFeed</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">type NewsFeed {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    startedAt: Date;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ended at: Date;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    stories: NewsStory[];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">type NewsStory {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /** When the story happened */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    happenedAt: Date;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /** A code that represents the type of story this is; eg USER_SESSION */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    storyCode: string</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /** The story details in markdown format */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    story: string;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Each query to <code>NewsFeedService.getNewsFeed</code> would query various databases / APIs related to our product, looking for interesting events. Whether it be users logging in, users performing some kind of action, whatever. For each interested event a news story like this would be produced:</p><blockquote><p>Jane Smith logged in at 10:03am for 25 minutes. They placed <a href="https://my-glorious-platform.io/orders/janes-order" target="_blank" rel="noopener noreferrer">an order</a> worth £3,000.</p></blockquote><p>Now the killer feature here is <a href="https://en.wikipedia.org/wiki/Markdown#:~:text=Markdown%20is%20a%20lightweight%20markup,using%20a%20plain%20text%20editor." target="_blank" rel="noopener noreferrer">Markdown</a>. Our stories are written in Markdown. Why is Markdown cool? Well <a href="https://web.archive.org/web/20040402182332/http://daringfireball.net/projects/markdown/" target="_blank" rel="noopener noreferrer">to quote the creators of Markdown</a>:</p><blockquote><p>Markdown allows you to write using an easy-to-read, easy-to-write plain text format, then convert it to structurally valid XHTML (or HTML).</p></blockquote><p>This crucially includes the ability to include links. This was significant because I want us to be able to be able to click on pieces of information in the stories and be taken to the relevant place in the platform to see more details. Just as you see status updates on, for example, Twitter which lead you on to more details:</p><blockquote><p>This is the history of <a href="https://twitter.com/DefinitelyTyped?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">@DefinitelyTyped</a>: <a href="https://t.co/AY6s3bWnKP" target="_blank" rel="noopener noreferrer">https://t.co/AY6s3bWnKP</a> Thanks to <a href="https://twitter.com/SeaRyanC?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">@SeaRyanC</a> &amp; <a href="https://twitter.com/drosenwasser?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">@drosenwasser</a> of the <a href="https://twitter.com/typescript?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">@typescript</a> team, <a href="https://twitter.com/blakeembrey?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">@blakeembrey</a> inventor of typings, <a href="https://twitter.com/vvakame?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">@vvakame</a>, <a href="https://twitter.com/_stevefenton?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">@_stevefenton</a>, <a href="https://twitter.com/basarat?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">@basarat</a>, and of course <a href="https://twitter.com/borisyankov?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">@borisyankov</a> for telling me their parts of the story❤️🌻</p><p>— John Reilly (@johnny_reilly) <a href="https://twitter.com/johnny_reilly/status/1181542739994976256?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">October 8, 2019</a></p></blockquote><script src="https://platform.twitter.com/widgets.js" charset="utf-8"></script><p>Again consider this example news story:</p><blockquote><p>Jane Smith logged in at 10:03am for 25 minutes. They placed <a href="https://my-glorious-platform.io/orders/janes-order" target="_blank" rel="noopener noreferrer">an order</a> worth £3,000.</p></blockquote><p>Consider that story but without a link. It&#x27;s not the same is it? A newsfeed without links would be missing a trick. Markdown gives us links. And happily due to my extensive work down the open source mines, I speak it like a native.</p><p>The first consumer of the newsfeed was to be our own mini analytics platform, which is a React app. Converting the markdown stories to React is a solved problem thanks to the wonderful <a href="https://github.com/rexxars/react-markdown" target="_blank" rel="noopener noreferrer">react-markdown</a>. You can simply sling Markdown at it and out comes HTML. Et voilà a news feed!</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="whats-next"></a>What&#x27;s next?<a class="hash-link" href="#whats-next" title="Direct link to heading">#</a></h2><p>So that&#x27;s it! We&#x27;ve built a (primitive) news feed. We can now see in real time how are users are getting on. We&#x27;re closer to them, we understand them better as a consequence. If we want to take it further there&#x27;s a number of things we could do:</p><ol><li>We could make the feed auto-update</li><li>We could push news stories to other destinations. Markdown is a gloriously portable format which can be used in a variety of environments. For instance the likes of Slack and <a href="https://blog.johnnyreilly.com/2019/12/automating-teams-notifications-recently.html" target="_blank" rel="noopener noreferrer">Teams</a> accept it and apps like these are generally open on people&#x27;s desktops and phones all the time anyway. Another way to narrow the gap between us and and our users.</li></ol><p>It&#x27;s very exciting!</p></div><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/tags/newsfeed">newsfeed</a></div></footer></article><div><a href="https://github.com/johnnyreilly/blog.johnnyreilly.com/edit/main/blog-website/blog/blog/2020-09-04-why-your-team-needs-newsfeed.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="margin-vert--xl"><nav class="pagination-nav" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/2020/10/02/autofac-6-integration-tests-and-generic-hosting"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">« Autofac 6, integration tests and .NET generic hosting</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/2020/08/09/devcontainers-aka-performance-in-secure"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Devcontainers AKA performance in a secure sandbox »</div></a></div></nav></div></main><div class="col col--2"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#how-do-you-build-a-newsfeed" class="table-of-contents__link">How do you build a newsfeed?</a></li><li><a href="#implementation" class="table-of-contents__link">Implementation</a></li><li><a href="#whats-next" class="table-of-contents__link">What&#39;s next?</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><ul class="footer__items"><li class="footer__item"><a href="https://www.buymeacoffee.com/qUBm0Wh" target="_blank"><img src="https://cdn.buymeacoffee.com/buttons/v2/default-yellow.png" alt="Buy Me A Coffee" style="height: 60px !important;width: 217px !important;"></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 John Reilly. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/styles.f7659eed.js"></script>
<script src="/assets/js/runtime~main.42fd7806.js"></script>
<script src="/assets/js/main.77bdfe03.js"></script>
<script src="/assets/js/1.194e3740.js"></script>
<script src="/assets/js/2.85d4c801.js"></script>
<script src="/assets/js/ccc49370.9f01aebe.js"></script>
<script src="/assets/js/c3b5bd8c.35df78b9.js"></script>
<script src="/assets/js/8890ac7a.02ed3bf9.js"></script>
<script src="/assets/js/fe3d2add.7a8be31b.js"></script>
</body>
</html>