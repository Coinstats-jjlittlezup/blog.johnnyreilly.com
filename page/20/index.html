<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/rss.xml" title="I CAN MAKE THIS WORK Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="I CAN MAKE THIS WORK Blog Atom Feed"><title data-react-helmet="true">Blog | I CAN MAKE THIS WORK</title><meta data-react-helmet="true" property="og:title" content="Blog | I CAN MAKE THIS WORK"><meta data-react-helmet="true" name="description" content="Blog"><meta data-react-helmet="true" property="og:description" content="Blog"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link rel="stylesheet" href="/styles.a755cef0.css">
<link rel="preload" href="/styles.c1706ff8.js" as="script">
<link rel="preload" href="/runtime~main.33bade23.js" as="script">
<link rel="preload" href="/main.97e26571.js" as="script">
<link rel="preload" href="/1.8880c22c.js" as="script">
<link rel="preload" href="/2.b9a20647.js" as="script">
<link rel="preload" href="/a6aa9e1f.1d171091.js" as="script">
<link rel="preload" href="/9d38daca.9ec7554d.js" as="script">
<link rel="preload" href="/df8b2109.962e5b27.js" as="script">
<link rel="preload" href="/fa1c9811.f0c6e2a9.js" as="script">
<link rel="preload" href="/4011a4a4.2bc6cd71.js" as="script">
<link rel="preload" href="/0ba27666.0d882a6f.js" as="script">
<link rel="preload" href="/87e112a6.6523f533.js" as="script">
<link rel="preload" href="/ba67aaac.c2605d34.js" as="script">
<link rel="preload" href="/65970fee.80a3a008.js" as="script">
<link rel="preload" href="/e59d3252.74745fca.js" as="script">
<link rel="preload" href="/ca7375c2.c6c849a9.js" as="script">
<link rel="preload" href="/f209798b.b6df0145.js" as="script">
<link rel="preload" href="/35293ec4.3dddab76.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/"><img src="/img/profile.jpg" alt="I CAN MAKE THIS WORK" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/profile.jpg" alt="I CAN MAKE THIS WORK" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">I CAN MAKE THIS WORK</strong></a></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/profile.jpg" alt="I CAN MAKE THIS WORK" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/profile.jpg" alt="I CAN MAKE THIS WORK" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">I CAN MAKE THIS WORK</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"></ul></div></div></div></nav><div class="main-wrapper blog-wrapper"><div class="container margin-vert--lg"><div class="row"><div class="col col--2"><div class="sidebar_SWld thin-scrollbar"><h3 class="sidebarItemTitle_Km2m">Recent posts</h3><ul class="sidebarItemList_3UpA"><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/2021/02/27/goodbye-client-affinity-hello-data-protection-with-azure">Goodbye Client Affinity, Hello Data Protection with Azure</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/2021/02/16/easy-auth-tokens-survive-releases-on-linux-azure-app-service">Making Easy Auth tokens survive releases on Linux Azure App Service</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/2021/02/11/azure-app-service-health-checks-and-zero-downtime-deployments">Azure App Service, Health checks and zero downtime deployments</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/2021/02/08/arm-templates-security-role-assignments">ARM templates, security, role assignments and magic GUIDs</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/2021/01/30/aspnet-serilog-and-application-insights">ASP.NET, Serilog and Application Insights</a></li></ul></div></div><main class="col col--8"><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_3-lP"><a href="/2012/08/24/how-to-attribute-encode-partialview-in">How to attribute encode a PartialView in MVC (Razor)</a></h2><div class="margin-vert--md"><time datetime="2012-08-24T00:00:00.000Z" class="blogPostDate_Ta7i">August 24, 2012  · 3 min read</time></div><div class="avatar margin-vert--md"><a class="avatar__photo-link avatar__photo" href="https://github.com/johnnyreilly" target="_blank" rel="noreferrer noopener"><img src="https://avatars.githubusercontent.com/u/1010525?s=400&amp;u=294033082cfecf8ad1645b4290e362583b33094a&amp;v=4" alt="John Reilly"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://github.com/johnnyreilly" target="_blank" rel="noreferrer noopener">John Reilly</a></h4><small class="avatar__subtitle"></small></div></div></header><section class="markdown"><p>This post is plagiarism. But I&#x27;m plagiarising myself so I don&#x27;t feel too bad.</p><p> I posted a <a href="http://stackoverflow.com/q/12093005/761388" target="_blank" rel="noopener noreferrer">question</a> on StackOverflow recently asking if there was a simple way to attribute encode a PartialView in Razor / ASP.NET MVC. I ended up answering my own question and since I thought it was a useful solution it might be worth sharing.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="the-question"></a>The Question<a class="hash-link" href="#the-question" title="Direct link to heading">#</a></h2><p>In the project I was working on I was using PartialViews to store the HTML that would be rendered in a tooltip in my ASP.NET MVC application. (In case you&#x27;re curious I was using the <a href="http://jquerytools.org/demos/tooltip/index.html" target="_blank" rel="noopener noreferrer">jQuery Tools library for my tooltip</a> effect.)</p><p>I had thought that Razor, clever beast that it is, would automatically attribute encode anything sat between quotes in my HTML. Unfortunately this doesn&#x27;t appear to be the case. In the short term I was able to workaround this by using single quotation marks to encapsulate my PartialViews HTML. See below for an example:</p><div class="mdxCodeBlock_1zKU">&lt;div class=&quot;tooltip&quot; title=&#x27;@Html.Partial(&quot;_MyTooltipInAPartial&quot;)&#x27;&gt; Some content &lt;/div&gt;</div><p>Now this worked just fine but I was aware that if any PartialView needed to use single quotation marks I would have a problem. Let&#x27;s say for a moment that <code>_MyTooltipInAPartial.cshtml</code> contained this:</p><div class="mdxCodeBlock_1zKU">&lt;span style=&quot;color:green&quot;&gt;fjkdsjf&#x27;lksdjdlks&lt;/span&gt;</div><p>Well when I used my handy little single quote workaround, the following would result:</p><div class="mdxCodeBlock_1zKU">&lt;div class=&quot;tooltip&quot; title=&#x27;&lt;span style=&quot;color:green&quot;&gt;fjkdsjf&#x27;lksdjdlks&lt;/span&gt;&#x27;&gt; Some content &lt;/div&gt;</div><p>Which although it doesn&#x27;t show up so well in the code sample above is definite <em>&quot;does not compute, does not compute, does not compute *LOUD EXPLOSION*&quot;</em> territory.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="the-answer"></a>The Answer<a class="hash-link" href="#the-answer" title="Direct link to heading">#</a></h2><p>This took me back to my original intent which was to encapsulate the HTML in double quotes like this:</p><div class="mdxCodeBlock_1zKU">&lt;div class=&quot;tooltip&quot; title=&quot;@Html.Partial(&quot;_MyTooltipInAPartial&quot;)&quot;&gt; Some content &lt;/div&gt;</div><p>Though with the example discussed above we clearly had a problem whether we used single or double quotes. What to do?</p><p>Well the answer wasn&#x27;t too complicated. After a little pondering I ended up scratching my own itch by writing an HTML helper method called <code>PartialAttributeEncoded</code> which made use of <code>HttpUtility.HtmlAttributeEncode</code> to HTML attribute encode a PartialView.</p><p>Here&#x27;s the code:</p><script src="https://gist.github.com/3449462.js?file=PartialExtensions.cs"></script><p>Using the above helper is simplicity itself:</p><div class="mdxCodeBlock_1zKU">&lt;div class=&quot;tooltip&quot; title=&quot;@Html.PartialAttributeEncoded(&quot;_MyTooltipInAPartial&quot;)&quot;&gt; Some content &lt;/div&gt;</div><p>And, given the example I&#x27;ve been going through, it would provide you with this output:</p><div class="mdxCodeBlock_1zKU">&lt;div class=&quot;tooltip&quot; title=&quot;&amp;lt;span style=&amp;quot;color:green&amp;quot;&gt;fjkdsjf&amp;#39;lksdjdlks&lt;/span&gt;&quot;&gt; Some content &lt;/div&gt;</div><p>Now the HTML in the title attribute above might be an unreadable mess - but it&#x27;s the unreadable mess you need. That&#x27;s what the HTML we&#x27;ve been discussing looks like when it&#x27;s been encoded.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="final-thoughts"></a>Final thoughts<a class="hash-link" href="#final-thoughts" title="Direct link to heading">#</a></h2><p>I was surprised that Razor didn&#x27;t handle this out of the box. I wonder if this is something that will come along with a later version? It&#x27;s worth saying that I experienced this issue when working on an MVC 3 application. It&#x27;s possible that this issue may actually have been solved with MVC 4 already; I haven&#x27;t had chance to check yet though.</p></section><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/tags/asp-net-mvc">asp.net mvc</a><a class="margin-horiz--sm" href="/tags/encode">encode</a><a class="margin-horiz--sm" href="/tags/partial-view">PartialView</a><a class="margin-horiz--sm" href="/tags/razor">razor</a><a class="margin-horiz--sm" href="/tags/attribute">attribute</a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_3-lP"><a href="/2012/08/16/closedxml-real-sdk-for-excel">ClosedXML - the real SDK for Excel</a></h2><div class="margin-vert--md"><time datetime="2012-08-16T00:00:00.000Z" class="blogPostDate_Ta7i">August 16, 2012  · 4 min read</time></div><div class="avatar margin-vert--md"><a class="avatar__photo-link avatar__photo" href="https://github.com/johnnyreilly" target="_blank" rel="noreferrer noopener"><img src="https://avatars.githubusercontent.com/u/1010525?s=400&amp;u=294033082cfecf8ad1645b4290e362583b33094a&amp;v=4" alt="John Reilly"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://github.com/johnnyreilly" target="_blank" rel="noreferrer noopener">John Reilly</a></h4><small class="avatar__subtitle"></small></div></div></header><section class="markdown"><p>Simplicity appeals to me. It always has. Something that is simple is straightforward to comprehend and is consequently easy to use. It&#x27;s clarity.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="open-xml"></a>Open XML<a class="hash-link" href="#open-xml" title="Direct link to heading">#</a></h2><p>So imagine my joy when I first encountered <a href="http://msdn.microsoft.com/en-us/office/bb265236.aspx" target="_blank" rel="noopener noreferrer">Open XML</a>. In Microsofts own words:</p><p>ECMA Office Open XML (&quot;Open XML&quot;) is an international, open standard for word-processing documents, presentations, and spreadsheets that can be freely implemented by multiple applications on multiple platforms.</p><p>What does that actually mean? Well, from my perspective in the work I was doing I needed to be able to programmatically interact with Excel documents from C#. I needed to be able to create spreadsheets, to use existing template spreadsheets which I could populate dynamically in code. I needed to do Excel. And according to Microsoft, the Open XML SDK was how I did this.</p><p>What can I say about it? Open XML works. The API functions. You can use this to achieve your aims; and I did (initially). However, there&#x27;s a but and it&#x27;s this: it became quickly apparent just how hard Open XML makes you work to achieve relatively simple goals. Things that ought to be, in my head, a doddle require reams and reams of obscure code. Sadly, I feel that Open XML is probably the most frustrating API that I have yet encountered (and I&#x27;ve coded against the old school Lotus Notes API).</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="closed-xml---open-xmls-dbcontext"></a>Closed XML - Open XML&#x27;s DbContext<a class="hash-link" href="#closed-xml---open-xmls-dbcontext" title="Direct link to heading">#</a></h2><p>As I&#x27;ve intimated I found Open XML to be enormously frustrating. I&#x27;d regularly find myself thinking I&#x27;d achieved my goal. I may have written War and Peace code-wise but it compiled, it looked right - the end was in sight. More fool me. I&#x27;d run, sit back watch my Excel doc get created / updated / whatever. Then I&#x27;d open it and be presented with some obscure error about a corrupt file. Not great.</p><p>As I was Googling around looking for answers to my problem that I discovered an open source project on CodePlex called <a href="http://closedxml.codeplex.com/" target="_blank" rel="noopener noreferrer">Closed XML</a>. I wasn&#x27;t alone in frustrations with Open XML - there were many of us sharing the same opinion. And some fantastic person had stepped into the breach to save us! In ClosedXMLs own words:</p><p>ClosedXML makes it easier for developers to create Excel 2007/2010 files. It provides a nice object oriented way to manipulate the files (similar to VBA) without dealing with the hassles of XML Documents. It can be used by any .NET language like C# and Visual Basic (VB).</p><p>Hallelujah!!!</p><p>The way it works (as far as I understand) is that ClosedXML sits on top of Open XML and exposes a really straightforward API for you to interact with. I haven&#x27;t looked into the guts of it but my guess is that it internally uses Open XML to achieve this (as to use ClosedXML you must reference DocumentFormat.OpenXml.dll).</p><p>I&#x27;ve found myself thinking of ClosedXML&#x27;s relationship to Open XML in the same way as I think about Entity Frameworks DbContexts relationship to ObjectContext. They do the same thing but the former in both cases offers a better API. They makes achieving the same goals *<strong>much</strong>* easier. (Although in fairness to the EF team I should say that ObjectContext was not particularly problematic to use; just DbContext made life even easier.)</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="support---this-is-how-it-should-be-done"></a>Support - This is how it should be done!<a class="hash-link" href="#support---this-is-how-it-should-be-done" title="Direct link to heading">#</a></h2><p>Shortly after I started using ClosedXML I was asked if we could use it to perform a certain task. I tested. We couldn&#x27;t.</p><p>When I discovered this <a href="http://closedxml.codeplex.com/workitem/8174" target="_blank" rel="noopener noreferrer">I raised a ticket</a> against the project asking if the functionality was likely to be added at any point. I honestly didn&#x27;t expect to hear back any time soon and was mentally working out ways to get round the issue for now.</p><p>To my surprise within <em>5 hours</em><a href="http://www.codeplex.com/site/users/view/MDeLeon" target="_blank" rel="noopener noreferrer">MDeLeon</a> the developer behind ClosedXML had released a patch to the source code! By any stretch of the imagination that is fast! As it happened there were a few bugs that needed ironing out and over the course of the next 3 working days MDeLeon performed a number of fixes and left me quickly in the position of having a version of ClosedXML which allowed me to achieve my goal.</p><p>So this blog post exists in part to point anyone who is battling Open XML to ClosedXML. It&#x27;s brilliant, well documented and I&#x27;d advise anyone to use it. You won&#x27;t be disappointed. And in part I wanted to say thanks and well done to MDeLeon who quite made my week! Thank you!</p><p><a href="http://closedxml.codeplex.com/" target="_blank" rel="noopener noreferrer">http://closedxml.codeplex.com/</a></p></section><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/tags/m-de-leon">MDeLeon</a><a class="margin-horiz--sm" href="/tags/open-xml">Open XML</a><a class="margin-horiz--sm" href="/tags/excel">Excel</a><a class="margin-horiz--sm" href="/tags/closed-xml">ClosedXML</a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_3-lP"><a href="/2012/08/06/jquery-unobtrusive-validation">jQuery Unobtrusive Validation (+ associated gotchas)</a></h2><div class="margin-vert--md"><time datetime="2012-08-06T00:00:00.000Z" class="blogPostDate_Ta7i">August 6, 2012  · 5 min read</time></div><div class="avatar margin-vert--md"><a class="avatar__photo-link avatar__photo" href="https://github.com/johnnyreilly" target="_blank" rel="noreferrer noopener"><img src="https://avatars.githubusercontent.com/u/1010525?s=400&amp;u=294033082cfecf8ad1645b4290e362583b33094a&amp;v=4" alt="John Reilly"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://github.com/johnnyreilly" target="_blank" rel="noreferrer noopener">John Reilly</a></h4><small class="avatar__subtitle"></small></div></div></header><section class="markdown"><p>I was recently working on a project which had client side validation manually set up which essentially duplicated the same logic on the server. Like many things this had started out small and grown and grown until it became arduos and tedious to maintain.</p><p> Time to break out the unobtrusive jQuery validation.</p><p>If you’re not aware of this, as part of MVC 3 Microsoft leveraged the pre-existing <a href="http://bassistance.de/jquery-plugins/jquery-plugin-validation/" target="_blank" rel="noopener noreferrer">jQuery Validate library</a> and introduced an “unobtrusive” extension to this which allows the library to be driven by HTML 5 data attributes. I have mentioned this lovely extension before but I haven&#x27;t been using it for the last 6 months or so. And coming back to it I realised that I had forgotten a few of the details / quirks.</p><p>First up, &quot;where do these HTML 5 data attributes come from?&quot; I hear you cry. Why from the <a href="http://msdn.microsoft.com/en-us/library/system.componentmodel.dataannotations.validationattribute.aspx" target="_blank" rel="noopener noreferrer">Validation attributes that live in System.ComponentModel.DataAnnotations</a>.</p><p>Let me illustrate. This decoration:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-cs codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[Required(),</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   Range(0.01, Double.MaxValue, ErrorMessage = &quot;A positive value is required for Price&quot;),</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   Display(Name = &quot;My Price&quot;)]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  public double Price { get; set; }</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>specifies that the Price field on the model is required, that it requires a positive numeric value and that it’s official name is “My Price”. As a result of this decoration, when you use syntax like this in your view:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-xml codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">@Html.LabelFor(x =&gt; x.Price)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  @Html.TextBoxFor(x =&gt; x.Price, new { id = &quot;itsMyPrice&quot;, type = &quot;number&quot; })</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>You end up with this HTML:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-xml codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">label</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">for</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">Price</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">My Price</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">label</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">input</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">data-val</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">true</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">data-val-number</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">The field My Price must be a number.</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">data-val-range</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">A positive value is required for My Price</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">data-val-range-max</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">1.79769313486232E+308</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">data-val-range-min</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">0.01</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">data-val-required</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">The My Price field is required.</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">id</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">itsMyPrice</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">name</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">Price</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">type</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">number</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">value</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>As you can see MVC has done the hard work of translating these data annotations into HTML 5 data attributes so you don’t have to. With this in place you can apply your validation in 1 place (the model) and 1 place only. This reduces the code you need to write exponentially. It also reduces duplication and therefore reduces the likelihood of mistakes.</p><p>To validate a form it’s as simple as this:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-js codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;form&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">validate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Or if you wanted to validate a single element:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-js codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;form&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">validate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">element</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;elementSelector&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Or if you wanted to prevent default form submission until validation was passed:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-js codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;form&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">submit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> isValid </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">validate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">valid</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> isValid</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//True will allow submission, false will not</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>See what I mean? Simple!</p><p>If you want to read up on this further I recommend these links:</p><ul><li><a href="http://bassistance.de/jquery-plugins/jquery-plugin-validation/" target="_blank" rel="noopener noreferrer">The home of jQuery Validate</a> - by the way it seems to be important to work with the latest version (1.9 at time of writing). I found some strange AJAX issues when using 1.7...</li><li><a href="http://bradwilson.typepad.com/blog/2010/10/mvc3-unobtrusive-validation.html" target="_blank" rel="noopener noreferrer">Brad Wilson&#x27;s walkthrough of unobtrusive client validation</a></li><li><a href="http://www.devtrends.co.uk/blog/the-complete-guide-to-validation-in-asp.net-mvc-3-part-2" target="_blank" rel="noopener noreferrer">An example of how to implement your own custom validation both server side *and* client side</a></li><li><a href="http://xhalent.wordpress.com/2011/01/24/applying-unobtrusive-validation-to-dynamic-content/" target="_blank" rel="noopener noreferrer">How to apply unobtrusive jQuery validation to dynamic content</a> - handy if you&#x27;re creating HTML on the client which you want to be validated.</li><li>And finally, a workaround for <a href="http://aspnet.codeplex.com/workitem/7629" target="_blank" rel="noopener noreferrer">a bug in MVC 3</a> which means that data attributes aren’t emitted when using DropDownListFor for nested objects: <a href="http://forums.asp.net/t/1649193.aspx/1/10" target="_blank" rel="noopener noreferrer">http://forums.asp.net/t/1649193.aspx/1/10</a>. In fact because I&#x27;ve only seen this on a forum I&#x27;ve copied and the pasted the code there to below because I feared it being lost: <strong>Update: It turns out the self-same issue exists for TextAreaFor as well. Details of this and a workaround can be found <a href="http://aspnet.codeplex.com/workitem/8576" target="_blank" rel="noopener noreferrer">here</a>... </strong></li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-cs codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /// MVC HtmlHelper extension methods - html element extensions</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /// These are drop down list extensions that work round a bug in MVC 3: http://aspnet.codeplex.com/workitem/7629</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /// These workarounds were taken from here: http://forums.asp.net/t/1649193.aspx/1/10</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public static class DropDownListExtensions</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        [SuppressMessage(&quot;Microsoft.Design&quot;, &quot;CA1006:DoNotNestGenericTypesInMemberSignatures&quot;, Justification = &quot;This is an appropriate nesting of generic types&quot;)]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        public static MvcHtmlString SelectListFor&lt;TModel, TProperty&gt;(this HtmlHelper&lt;TModel&gt; htmlHelper, Expression&lt;Func&lt;TModel, TProperty&gt;&gt; expression, IEnumerable&lt;SelectListItem&gt; selectList)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            return SelectListFor(htmlHelper, expression, selectList, null /* optionLabel */, null /* htmlAttributes */);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        [SuppressMessage(&quot;Microsoft.Design&quot;, &quot;CA1006:DoNotNestGenericTypesInMemberSignatures&quot;, Justification = &quot;This is an appropriate nesting of generic types&quot;)]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        public static MvcHtmlString SelectListFor&lt;TModel, TProperty&gt;(this HtmlHelper&lt;TModel&gt; htmlHelper, Expression&lt;Func&lt;TModel, TProperty&gt;&gt; expression, IEnumerable&lt;SelectListItem&gt; selectList, object htmlAttributes)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            return SelectListFor(htmlHelper, expression, selectList, null /* optionLabel */, new RouteValueDictionary(htmlAttributes));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        [SuppressMessage(&quot;Microsoft.Design&quot;, &quot;CA1006:DoNotNestGenericTypesInMemberSignatures&quot;, Justification = &quot;This is an appropriate nesting of generic types&quot;)]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        public static MvcHtmlString SelectListFor&lt;TModel, TProperty&gt;(this HtmlHelper&lt;TModel&gt; htmlHelper, Expression&lt;Func&lt;TModel, TProperty&gt;&gt; expression, IEnumerable&lt;SelectListItem&gt; selectList, IDictionary&lt;string, object&gt; htmlAttributes)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            return SelectListFor(htmlHelper, expression, selectList, null /* optionLabel */, htmlAttributes);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        [SuppressMessage(&quot;Microsoft.Design&quot;, &quot;CA1006:DoNotNestGenericTypesInMemberSignatures&quot;, Justification = &quot;This is an appropriate nesting of generic types&quot;)]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        public static MvcHtmlString SelectListFor&lt;TModel, TProperty&gt;(this HtmlHelper&lt;TModel&gt; htmlHelper, Expression&lt;Func&lt;TModel, TProperty&gt;&gt; expression, IEnumerable&lt;SelectListItem&gt; selectList, string optionLabel)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            return SelectListFor(htmlHelper, expression, selectList, optionLabel, null /* htmlAttributes */);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        [SuppressMessage(&quot;Microsoft.Design&quot;, &quot;CA1006:DoNotNestGenericTypesInMemberSignatures&quot;, Justification = &quot;This is an appropriate nesting of generic types&quot;)]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        public static MvcHtmlString SelectListFor&lt;TModel, TProperty&gt;(this HtmlHelper&lt;TModel&gt; htmlHelper, Expression&lt;Func&lt;TModel, TProperty&gt;&gt; expression, IEnumerable&lt;SelectListItem&gt; selectList, string optionLabel, object htmlAttributes)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            return SelectListFor(htmlHelper, expression, selectList, optionLabel, new RouteValueDictionary(htmlAttributes));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        [SuppressMessage(&quot;Microsoft.Design&quot;, &quot;CA1011:ConsiderPassingBaseTypesAsParameters&quot;, Justification = &quot;Users cannot use anonymous methods with the LambdaExpression type&quot;)]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        [SuppressMessage(&quot;Microsoft.Design&quot;, &quot;CA1006:DoNotNestGenericTypesInMemberSignatures&quot;, Justification = &quot;This is an appropriate nesting of generic types&quot;)]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        public static MvcHtmlString SelectListFor&lt;TModel, TProperty&gt;(this HtmlHelper&lt;TModel&gt; htmlHelper, Expression&lt;Func&lt;TModel, TProperty&gt;&gt; expression, IEnumerable&lt;SelectListItem&gt; selectList, string optionLabel, IDictionary&lt;string, object&gt; htmlAttributes)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            if (expression == null)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                throw new ArgumentNullException(&quot;expression&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            ModelMetadata metadata = ModelMetadata.FromLambdaExpression(expression, htmlHelper.ViewData);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            IDictionary&lt;string, object&gt; validationAttributes = htmlHelper</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                .GetUnobtrusiveValidationAttributes(ExpressionHelper.GetExpressionText(expression), metadata);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            if (htmlAttributes == null)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                htmlAttributes = validationAttributes;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            else</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                htmlAttributes = htmlAttributes.Concat(validationAttributes).ToDictionary(k =&gt; k.Key, v =&gt; v.Value);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            return SelectExtensions.DropDownListFor(htmlHelper, expression, selectList, optionLabel, htmlAttributes);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></section><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/tags/jquery-unobtrusive-validation">jquery unobtrusive validation</a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_3-lP"><a href="/2012/07/16/rendering-partial-view-to-string">Rendering Partial View to a String</a></h2><div class="margin-vert--md"><time datetime="2012-07-16T00:00:00.000Z" class="blogPostDate_Ta7i">July 16, 2012  · 5 min read</time></div><div class="avatar margin-vert--md"><a class="avatar__photo-link avatar__photo" href="https://github.com/johnnyreilly" target="_blank" rel="noreferrer noopener"><img src="https://avatars.githubusercontent.com/u/1010525?s=400&amp;u=294033082cfecf8ad1645b4290e362583b33094a&amp;v=4" alt="John Reilly"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://github.com/johnnyreilly" target="_blank" rel="noreferrer noopener">John Reilly</a></h4><small class="avatar__subtitle"></small></div></div></header><section class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="well-done-that-man"></a>Well done that man!<a class="hash-link" href="#well-done-that-man" title="Direct link to heading">#</a></h2><p>Every now and then I&#x27;m thinking to myself &quot;<em>wouldn&#x27;t it be nice if you could do x...</em>&quot; And then I discover that someone else has thought the self same thoughts and better yet they have the answer! I had this situation recently and discovered the wonderful Kevin Craft had been there, done that and made the T-shirt. Here&#x27;s his blog: <a href="http://craftycodeblog.com/2010/05/15/asp-net-mvc-render-partial-view-to-string/" target="_blank" rel="noopener noreferrer">http://craftycodeblog.com/2010/05/15/asp-net-mvc-render-partial-view-to-string/</a> I wanted to talk about how this simple post provided me with an elegant solution to something I&#x27;ve found niggling and unsatisfactory for a while now... ## How it helped</p><p>Just last week I was thinking about <code>Partial Views</code>. Some background. I&#x27;m working on an ASP.NET MVC 3 project which provides users with a nice web interface to manage the workflow surrounding certain types of financial asset. The user is presented with a web page which shows a kind of grid to the user. As the user hovers over a row they are presented with a context menu which allows them to perform certain workflow actions. If they perform an action then that row will need to be updated to reflect this. Back in the day this would have been achieved by doing a full postback to the server. At the server the action would be taken, the persistent storage updated and then the whole page would be served up to the user again with the relevant row of HTML updated but everything else staying as is. Now there&#x27;s nothing wrong with this approach as such. I mean it works just fine. But in my case since I knew that it was only that single row of HTML that was going to be updated and so I was loath to re-render the whole page. It seemed a waste to get so much data back from the server when only a marginal amount was due to change. And also I didn&#x27;t want the user to experience the screen refresh flash. Looks ugly. Now in the past when I&#x27;ve had a solution to this problem which from a UI perspective is good but from a development perspective slightly unsatisfactory. I would have my page call a controller method (via <code>jQuery.ajax</code>) to perform the action. This controller would return a <code>JsonResult</code> indicating success or failure and any data necessary to update the screen. Then in the <code>success</code> function I would manually update the HTML on the screen using the data provided. Now this solution works but there&#x27;s a problem. <a href="http://en.wikipedia.org/wiki/Rolf_Harris" target="_blank" rel="noopener noreferrer">Can you tell what it is yet?</a> It&#x27;s not very DRY. I&#x27;m repeating myself. When the page is initially rendered I have a <code>View</code> which renders (in this example) all the relevant HTML for the screen *including* the HTML for my rows of data. And likewise I have my JavaScript method for updating the screen too. So with this solution I have duplicated my GUI logic. If I update 1, I need to update the other. It&#x27;s not a massive hardship but it is, as I say, unsatisfactory. I was recently thinking that it would be nice if I could refactor my row HTML into a <code>Partial View</code> which I could then use in 2 places: 1. In my standard <code>View</code> as I iterated through each element for display and
2. Nested inside a <code>JsonResult</code>...</p><p>The wonderful thing about approach 2 is that it allows me to massively simplify my <code>success</code> to this: ```js
$(&quot;myRowSelector&quot;)
.empty()
.html(data.RowHTML); //Where RowHTML is the property that
//contains my stringified PartialView</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> and if I later make changes to the `Partial View` these changes will not require me to make any changes to my JavaScript at all. Brilliant! And entirely satisfactory. On the grounds that someone else might have had the same idea I did a little googling around. Sure enough I discovered [Kevin Craft&#x27;s post](&lt;http://craftycodeblog.com/2010/05/15/asp-net-mvc-render-partial-view-to-string/&gt;) which was just the ticket. It does exactly what I&#x27;d hoped. Besides being a nice and DRY solution this approach has a number of other advantages as well: - Given it&#x27;s a `Partial View` the Visual Studio IDE provides a nice experience when coding it up with regards to intellisense / highlighting etc. Not something available when you&#x27;re hand coding up a string which contains the HTML you&#x27;d like passed back...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">- A wonderful debug experience. You can debug the rendering of a `Partial View` being rendered to a string in the same way as if the ASP.NET MVC framework was serving it up. I could have lived without this but it&#x27;s fantastic to have it available.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">- It&#x27;s possible to nest \***multiple**\* `Partial Views` within your `JsonResult`. THIS IS WONDERFUL!!! This means that if several parts of your screen need to be updated (perhaps the row and a status panel as well) then as long as both are refactored into a `Partial View` you can generate them on the fly and pass them back.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;!-- --&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Excellent stuff!</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></section><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/tags/asp-net-mvc">asp.net mvc</a><a class="margin-horiz--sm" href="/tags/kevin-craft">Kevin Craft</a><a class="margin-horiz--sm" href="/tags/partial-view">PartialView</a><a class="margin-horiz--sm" href="/tags/json-result">JsonResult</a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_3-lP"><a href="/2012/07/01/how-im-structuring-my-javascript-in-web">Optimally Serving Up JavaScript</a></h2><div class="margin-vert--md"><time datetime="2012-07-01T00:00:00.000Z" class="blogPostDate_Ta7i">July 1, 2012  · 7 min read</time></div><div class="avatar margin-vert--md"><a class="avatar__photo-link avatar__photo" href="https://github.com/johnnyreilly" target="_blank" rel="noreferrer noopener"><img src="https://avatars.githubusercontent.com/u/1010525?s=400&amp;u=294033082cfecf8ad1645b4290e362583b33094a&amp;v=4" alt="John Reilly"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://github.com/johnnyreilly" target="_blank" rel="noreferrer noopener">John Reilly</a></h4><small class="avatar__subtitle"></small></div></div></header><section class="markdown"><p>I have occasionally done some server-side JavaScript with Rhino and Node.js but this is the exception rather than the rule. Like most folk at the moment, almost all the JavaScript I write is in a web context.</p><p> Over time I&#x27;ve come to adopt a roughly standard approach to how I structure my JavaScript; both the JavaScript itself and how it is placed / rendered in the an HTML document. I wanted to write about the approach I&#x27;m using. Partly just to document the approach but also because I often find writing about something crystalises my feelings on the subject in one way or another. I think that most of what I&#x27;m doing is sensible and rational but maybe as I write about this I&#x27;ll come to some firmer conclusions about my direction of travel.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="what-are-you-up-to"></a>What are you up to?<a class="hash-link" href="#what-are-you-up-to" title="Direct link to heading">#</a></h2><p>Before I get started it&#x27;s probably worth mentioning the sort of web development I&#x27;m generally called to do (as this has obviously influenced my decisions).</p><p>Most of my work tends to be on web applications used internally within a company. That is to say, web applications accessible on a Company intranet. Consequently, the user base for my applications tends to be smaller than the Amazons and Googles of this world. It almost invariably sits on the ASP.NET stack in some way. Either classic WebForms or MVC.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="render-first-js-second"></a>&quot;Render first. JS second.&quot;<a class="hash-link" href="#render-first-js-second" title="Direct link to heading">#</a></h2><p>I took 2 things away from <a href="http://www.stevesouders.com/blog/2010/09/30/render-first-js-second/" target="_blank" rel="noopener noreferrer">Steve Souder&#x27;s article</a>:</p><ol><li>Async script loading is better than synchronous script loading</li><li>Get your screen rendered and *<strong>then</strong>* execute your JavaScript</li></ol><p>I&#x27;m not doing any async script loading as yet; although I am thinking of giving it a try at some point. In terms of choosing a loader I&#x27;ll probably give RequireJS first crack of the whip (purely as it looks like most people are tending it&#x27;s direction and that can&#x27;t be without reason).</p><p>However - it seems that the concept of async script loading is kind of conflict with one of the other tenets of web wisdom: script bundling. Script bundling, if you&#x27;re not already aware, is the idea that you should combine all your scripts into a single file and then just serve that. This prevents multiple HTTP requests as each script loads in. Async script loading is obviously okay with multiple HTTP requests, presumably because of the asynchronous non-blocking pattern of loading. So. 2 different ideas. And there&#x27;s further movement on this front right now as <a href="http://www.hanselman.com/blog/VisualStudio2012RCIsReleasedTheBigWebRollup.aspx" target="_blank" rel="noopener noreferrer">Microsoft are baking in script bundling to .NET 4.5</a>.</p><p>Rather than divide myself between these 2 horses I have at the moment tried to follow the &quot;JS second&quot; part of this advice in my own (perhaps slightly old fashioned) way...</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="i-want-to-serve-you"></a>I want to serve you...<a class="hash-link" href="#i-want-to-serve-you" title="Direct link to heading">#</a></h2><p>I have been making sure that scripts are the last thing served to the screen by using a customised version of <a href="http://frugalcoder.us/post/2009/06/29/Handling-Scripts-in-ASPNet-MVC.aspx" target="_blank" rel="noopener noreferrer">Michael J. Ryan&#x27;s HtmlHelper</a>. This lovely helper allows you to add script references as required from a number of different sources (layout page, view, partial view etc - even the controller if you so desired). It&#x27;s simple to control the ordering of scripts by allowing you to set a priority for each script which determines the render order.</p><p>Then as a final step before rendering the <code>&amp;lt;/body&amp;gt;</code> tag the scripts can be rendered in one block. By this point the web page is rendered visually and a marginal amount of blocking is, in my view, acceptable.</p><p>If anyone is curious - the class below is my own version of Michael&#x27;s helper. My contribution is the go faster stripes relating to the caching suffix and the ability to specify dependancies using script references rather than using numeric priority mechanism):</p><script src="https://gist.github.com/3019159.js?file=ScriptExtensions.cs"></script><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="minification---i-want-to-serve-you-less"></a>Minification - I want to serve you less...<a class="hash-link" href="#minification---i-want-to-serve-you-less" title="Direct link to heading">#</a></h2><p>Another tweak I made to the script helper meant that when compiling either the debug or production (minified) versions of common JS files will be included if available. This means in a production environment the users get minified JS files so faster loading. And in a development environment we get the full JS files which make debugging more straightforward.</p><p>What I haven&#x27;t started doing is minifying my own JS files as yet. I know I&#x27;m being somewhat inconsistent here by sometimes serving minified files and sometimes not. I&#x27;m not proud. Part of my rationale for this that since most of my users use my apps on a daily basis they will for the most part be using cached JS files. Obviously there&#x27;ll be slightly slower load times the first time they go to a page but nothing that significant I hope.</p><p>I have thought of starting to do my own minification as a build step but have held off for now. Again this is something being baked into .NET 4.5; another reason why I have held off doing this a different way for now.</p><p>Update</p><p>It now looks like this Microsofts optimisations have become <a href="http://nuget.org/packages/Microsoft.AspNet.Web.Optimization" target="_blank" rel="noopener noreferrer">this Nuget package</a>. It&#x27;s early days (well it was released on 15th August 2012 and I&#x27;m writing this on the 16th) but I think this looks not to be tied to MVC 4 or .NET 4.5 in which case I could use it in my current MVC 3 projects. I hope so...</p><p>By the way there&#x27;s a <a href="http://www.pluralsight.com/training/Courses/TableOfContents/mvc4#mvc4-m3-optimization" target="_blank" rel="noopener noreferrer">nice rundown of how to use this by K. Scott Allen of Pluralsight</a>. It&#x27;s fantastic. Recommended.</p><p>Update 2</p><p>Having done a little asking around I now understand that this *<strong>can</strong>* be used with MVC 3 / .NET 4.0. Excellent!</p><p>One rather nice alternative script serving mechanism I&#x27;ve seen (but not yet used) is Andrew Davey&#x27;s <a href="http://getcassette.net" target="_blank" rel="noopener noreferrer">Cassette</a> which I mean to take for a test drive soon. This looks fantastic (and is available as a <a href="http://nuget.org/packages/Cassette" target="_blank" rel="noopener noreferrer">Nuget package</a> - 10 points!).</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="cdns-they-want-to-serve-you"></a>CDNs (they want to serve you)<a class="hash-link" href="#cdns-they-want-to-serve-you" title="Direct link to heading">#</a></h2><p>I&#x27;ve never professionally made use of CDNs at all. There are <a href="http://encosia.com/3-reasons-why-you-should-let-google-host-jquery-for-you/" target="_blank" rel="noopener noreferrer">clearly good reasons why you should</a> but most of those good reasons relate most to public facing web apps.</p><p>As I&#x27;ve said, the applications I tend to work on sit behind firewalls and it&#x27;s not always guaranteed what my users can see from the grand old world of web beyond. (Indeed what they see can change on hour by hour basis sometimes...) Combined with that, because my apps are only accessible by a select few I don&#x27;t face the pressure to reduce load on the server that public web apps can face.</p><p>So while CDN&#x27;s are clearly a good thing. I don&#x27;t use them at present. And that&#x27;s unlikely to change in the short term.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="tldr"></a>TL:DR<a class="hash-link" href="#tldr" title="Direct link to heading">#</a></h2><ol><li>I don&#x27;t use CDNs - they&#x27;re clearly useful but they don&#x27;t suit my particular needs</li><li>I serve each JavaScript file individually just before the body tag. I don&#x27;t bundle.</li><li>I don&#x27;t minify my own scripts (though clearly it wouldn&#x27;t be hard) but I do serve the minified versions of 3rd party libraries (eg jQuery) in a Production environment.</li><li>I don&#x27;t use async script loaders at present. I may in future; we shall see.</li></ol><p>I expect some of the above may change (well, possibly not point #1) but this general approach is working well for me at present.</p><p>I haven&#x27;t touched at all on how I&#x27;m structuring my JavaScript code itself. Perhaps next time.</p></section><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/tags/asp-net-mvc">asp.net mvc</a><a class="margin-horiz--sm" href="/tags/html-helper">html helper</a><a class="margin-horiz--sm" href="/tags/javascript">javascript</a><a class="margin-horiz--sm" href="/tags/cassette">cassette</a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_3-lP"><a href="/2012/06/04/reasons-to-be-cheerful-why-now-is-good">Reasons to be Cheerful (why now is a good time to be a dev)</a></h2><div class="margin-vert--md"><time datetime="2012-06-04T00:00:00.000Z" class="blogPostDate_Ta7i">June 4, 2012  · 8 min read</time></div><div class="avatar margin-vert--md"><a class="avatar__photo-link avatar__photo" href="https://github.com/johnnyreilly" target="_blank" rel="noreferrer noopener"><img src="https://avatars.githubusercontent.com/u/1010525?s=400&amp;u=294033082cfecf8ad1645b4290e362583b33094a&amp;v=4" alt="John Reilly"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://github.com/johnnyreilly" target="_blank" rel="noreferrer noopener">John Reilly</a></h4><small class="avatar__subtitle"></small></div></div></header><section class="markdown"><p>I&#x27;ve been a working as a developer in some way, shape or form for just over 10 years now. And it occurred to me the other day that I can&#x27;t think of a better time to be a software developer than <u>right now</u></p><p>. This year was better than last year. Last year was better than the year before. This is a happily recurring theme. So why? Well I guess there are a whole host of reasons; this is my effort to identify just some of them... ## Google and the World Wide Web (other search providers are available)</p><p>When I first started out as a humble Delphi developer back in 1999 learning was not the straightforward proposition it is today. If you want to know how to do something these days a good place to start is firing up your browser and putting your question into Google. If I was to ask the question <em>&quot;how do I use AJAX&quot;</em> of a search engine 10 years ago and now I would see very different things. <img src="/assets/images/AJAX%2Bbleach-2ee8167d3057f6cdbda7a718369c4fc2.jpg"></p><p>On the left the past, on the right the present. Do try not to let the presence of W3Schools in the search results detract... And also best ignore that the term AJAX wasn&#x27;t coined until 2006... What I&#x27;m getting at is that finding out information these days is can be done really quickly. Excellent search engines are now the norm. Back when I started out this was not the case and you were essentially reliant on what had been written down in books and the kindliness of more experienced developers. Google (and others like them) have done us a great service. They&#x27;ve made it easier to learn. ## Blogs / Screencasts / Training websites</p><p>Something else that has made it easier to learn is the rise and rise of blogs, screencasts and training websites. Over the last 5 years the internet has been filling up with people writing blogs talking about tools, techniques and approaches they are using. When you&#x27;re searching for advice on how to do something you can pretty much guarantee these days that some good soul will have written about it already. The most generous devs out there have gone a step further producing screencasts demonstrating them coding and sharing it with the world *<strong>for free</strong>*. See an example from the ever awesome Rebecca Murphey below: <iframe src="http://player.vimeo.com/video/20457625" width="500" height="281" frameborder="0" webkitallowfullscreen="" mozallowfullscreen=""></iframe></p><p> Similarly, there are now a number of commercially available screencasts which make it really easy to ramp up and learn. There&#x27;s <a href="http://tekpub.com/" target="_blank" rel="noopener noreferrer">TekPub</a>, there&#x27;s <a href="http://www.pluralsight-training.net" target="_blank" rel="noopener noreferrer">Pluralsight</a> (who have massively improved my commute with their mobile app by the way). All of these help tug away the curtain away from the software development Wizard of Oz. All this is a very wonderful thing indeed! ## Podcasts</p><p>If you&#x27;re a Boogie Down Productions fan then you may be aware of the concept of <a href="http://en.wikipedia.org/wiki/Edutainment_(album)" target="_blank" rel="noopener noreferrer">Edutainment</a>. That is to say, the bridge that can exist between entertainment and education. This is what I&#x27;ve found podcasts to be. I listen to a lot. <a href="http://www.hanselminutes.com/" target="_blank" rel="noopener noreferrer">Hanselminutes</a>. <a href="http://herdingcode.com/" target="_blank" rel="noopener noreferrer">Herding Code</a>. <a href="http://javascriptjabber.com/" target="_blank" rel="noopener noreferrer">JavaScript Jabber</a>. <a href="http://javascriptshow.com/" target="_blank" rel="noopener noreferrer">The JavaScript Show</a>. <a href="http://jesseliberty.com/podcast/" target="_blank" rel="noopener noreferrer">Yet Another Podcast</a>. There&#x27;s more. There&#x27;s something wonderful about about listening to other developers who are passionate about what they are doing. Interested in their work. Enthusiastic about their projects. It&#x27;s infectious. It makes you want to grab a keyboard and start trying things out. I can&#x27;t imagine I&#x27;m the only dev that feels this way. And of course I couldn&#x27;t fail to mention my favourite podcast: <a href="http://www.thisdeveloperslife.com/" target="_blank" rel="noopener noreferrer">This Developer&#x27;s Life</a>. Put together by Scott Hanselman and Rob Conery (I love these guys by the way), and inspired by <a href="http://www.thisamericanlife.org/" target="_blank" rel="noopener noreferrer">This American Life</a>, this show tells some of the stories experienced by developers. It gives an insight into what it&#x27;s like to be a developer. This podcast is more entertaining than educational but it&#x27;s absolutely *<strong>fantastic</strong>*. ## JavaScript (and HTML and CSS too)</p><p>All of the above have eased the learning path of developers and made it easier to keep in touch with the latest and greatest happenings in the dev world. Along with this there has, in my opinion, also been something of a unifying of purpose in the developer community of late. I attribute this to JavaScript, HTML and CSS. Back when I started out it seemed much more the case that developers were split into different tribes. There was the Delphi tribe, the Visual Basic tribe, the C++ tribe, the Java tribe (very much the &quot;hip young gunslingers&quot; tribe back then - I guess these days it&#x27;d be the Node.JS guys) as well as many others. And each tribe more or less seemed to keep themselves to themselves. This wasn&#x27;t malicious that I could tell; that just seemed to be the way it was. But shortly after I started out the idea of the web application took off in a major way. I was involved in this coming from the position of being an early adopter of ASP.NET (which I used, and loved, since it was first in beta). Many other web application technologies were available; JSP, PHP, Perl and the like. But what they all had in common was this: they all pumped out HTML and CSS to the user. Suddenly all these developers from subtly different backgrounds were all targeting the same technology for their GUI. This unifying effect has been *<strong>massively</strong>* reinforced by JavaScript. Whereas HTML is a markup language, JavaScript is a programming language. And more by accident than grand design JavaScript has kind of become the <a href="http://www.hanselman.com/blog/JavaScriptIsAssemblyLanguageForTheWebPart2MadnessOrJustInsanity.aspx" target="_blank" rel="noopener noreferrer">VM of the web</a>. Given the rise and rise of the rich web client (driven onwards and upwards by the popularity of AJAX, Backbone.JS etc) this has meant that devs of all creeds and colours have been forced to pitch a tent on the same patch of dirt. Pretty much all of the tribes now have an embassy in JavaScript land. So there are all these devs out there who are used to working with different server-side technologies from each other. But when it comes to the client, we are all sharing the common language of JavaScript. To a certain extent we&#x27;re all creating data services that just pump out JSON to the client. Through forums like <a href="http://stackoverflow.com/" target="_blank" rel="noopener noreferrer">StackOverflow</a> devs of all the tribes are helping each other with web client &quot;stuff&quot;. They&#x27;re all interacting in ways that they probably wouldn&#x27;t otherwise if the web client environment was as diverse as the server-side environment... ## The Browser Wars Begin Again</p><p>Didn&#x27;t things seem a little dull around 2003/2004? IE 6 had come out 3 years previously and had vanquished all comers. Microsoft was really the only game in town browser-wise. Things had stopped changing; it seemed like browsers were &quot;done&quot;. You know, good enough and there was no need to take things any further. Then came Firefox. This lone browser appeared as an alternative to might of IE. I must admit the thing that first attracted me to Firefox was the fact it had tabs. I mean technically I knew Firefox was more secure than IE but honestly it was the tabs that attracted me in the first place. (This may offer some insight as to why so many people still smoke...) And somehow Firefox managed to jolt Microsoft out of it&#x27;s inertia on the web. Microsoft started caring about IE again. (Not enough until quite recently in my book but you&#x27;ve got to start somewhere.) I&#x27;m a firm believer that change for it&#x27;s own sake can often be a good thing. Change makes you think about why you do what you do and wonder if there might be better approaches that could be used instead. And these changes kind of feed into... ## ...HTML 5!</p><p>That&#x27;s right HTML 5 which is all about change. It&#x27;s taking HTML as we know and love it and bolting on new stuff. New elements (canvas), new styling (CSS 3), new JavaScript APIs, faster JavaScript engines, support for JavaScript 5. The list goes on... And all this new stuff is exciting, whizzy, fun to play with. That which wasn&#x27;t possible yesterday is possible now. Playing with new toys is half the fun of being a dev. There&#x27;s a lot of new toys about right now. ## The Feeling of Possibilites</p><p>This is what it comes down to I think. It&#x27;s so easy to learn these days and there&#x27;s so much to learn about. Right now lots of things are happening above and beyond what I&#x27;ve mentioned above. Open source has come of age and gone mainstream. Github is with us. Google are making contentious forays into new languages with Dart and Native Client. Microsoft aren&#x27;t remotely evil empire-like these days; they&#x27;ve made .NET like a Swiss army knife. You can even run Node.js on IIS these days! Signal-R, Websockets, Coffeescript, JS.Next, Backbone.JS, Entity Framework, LINQ, the mobile web, ASP.NET MVC, Razor, Knockout.JS, the cloud, Windows Azure... So much is happening right now. People are making things. It&#x27;s a very interesting time to be a dev. There are many reasons to be cheerful.</p></section></article><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_3-lP"><a href="/2012/05/30/dad-didnt-buy-any-games">Dad Didn&#x27;t Buy Any Games</a></h2><div class="margin-vert--md"><time datetime="2012-05-30T00:00:00.000Z" class="blogPostDate_Ta7i">May 30, 2012  · 3 min read</time></div><div class="avatar margin-vert--md"><a class="avatar__photo-link avatar__photo" href="https://github.com/johnnyreilly" target="_blank" rel="noreferrer noopener"><img src="https://avatars.githubusercontent.com/u/1010525?s=400&amp;u=294033082cfecf8ad1645b4290e362583b33094a&amp;v=4" alt="John Reilly"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://github.com/johnnyreilly" target="_blank" rel="noreferrer noopener">John Reilly</a></h4><small class="avatar__subtitle"></small></div></div></header><section class="markdown"><p>Inspired by <a href="http://www.hanselman.com/blog/SheLetMeTakeTheComputerHomeHowDidYouGetStartedInComputersAndProgramming.aspx" target="_blank" rel="noopener noreferrer">Hanselmans post on how he got started in programming</a> I thought I&#x27;d shared my own tale about how it all began... I grew up the 80&#x27;s just outside London. For those of you of a different vintage let me paint a picture. These were the days when &quot;Personal Computers&quot;, as they were then styled, were taking the world by storm. Every house would be equipped with either a ZX Spectrum, a Commodore 64 or an Amstrad CPC. These were 8 bit computers which were generally plugged into the family television and spent a good portion of their time loading games like <a href="http://en.wikipedia.org/wiki/Target:_Renegade" target="_blank" rel="noopener noreferrer">Target: Renegade</a> from an audio cassette. But not in our house; we didn&#x27;t have a computer. I remember mournfully pedalling home from friends houses on a number of occasions, glum as I compared my lot with theirs. Whereas my friends would be spending their evenings gleefully battering their keyboards as they thrashed the life out of various end-of-level bosses I was reduced to *<strong>wasting</strong>* my time reading. That&#x27;s right Enid Blyton - you were second best in my head. Then one happy day (and it may have been a Christmas present although I&#x27;m not certain) our family became the proud possessors of an <a href="http://en.wikipedia.org/wiki/Amstrad_CPC" target="_blank" rel="noopener noreferrer">Amstrad CPC 6128</a>: <img src="/assets/images/CPC6128-2c47e616b77fe8f429f1a68c2fe2872a.jpg"></p><p>Glory be! I was going to play so many games! I would have such larks! My evenings would be filled with pixelated keyboard related destruction! Hallelujah!! But I was wrong. I had reckoned without my father. For reasons that I&#x27;ve never really got to the bottom of Dad had invested in the computer but not in the games. Whilst I was firmly of the opinion that these 2 went together like Lennon and McCartney he was having none of it. &quot;You can write your own son&quot; he intoned and handed over a manual which contained listings for games: <img src="/assets/images/6a0120a85dcdae970b0120a86ddeee970b-4bba7afc9b32fa50759e551dcd419a9c.png"></p><p> And that&#x27;s where it first began really. I would spend my evenings typing the Locomotive Basic listings for computer games into the family computer. Each time I started I would be filled with great hopes for what might result. Each time I tended to be rewarded with something that looked a bit like this: <img src="/assets/images/images-b4c0604b38d683a370e056488a20a183.jpg"></p><p> I&#x27;m not sure that it&#x27;s possible to learn to program by osmosis but if it is I&#x27;m definitely a viable test case. I didn&#x27;t become an expert Locomotive Basic programmer (was there ever such a thing?) but I did undoubtedly begin my understanding of software.... Thanks Dad! </p></section></article><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_3-lP"><a href="/2012/05/07/globalizejs-number-and-date">Globalize.js - number and date localisation made easy</a></h2><div class="margin-vert--md"><time datetime="2012-05-07T00:00:00.000Z" class="blogPostDate_Ta7i">May 7, 2012  · 8 min read</time></div><div class="avatar margin-vert--md"><a class="avatar__photo-link avatar__photo" href="https://github.com/johnnyreilly" target="_blank" rel="noreferrer noopener"><img src="https://avatars.githubusercontent.com/u/1010525?s=400&amp;u=294033082cfecf8ad1645b4290e362583b33094a&amp;v=4" alt="John Reilly"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://github.com/johnnyreilly" target="_blank" rel="noreferrer noopener">John Reilly</a></h4><small class="avatar__subtitle"></small></div></div></header><section class="markdown"><p>I wanted to write about a JavaScript library which seems to have had very little attention so far. And that surprises me as it&#x27;s</p><ol><li>Brilliant!</li><li>Solves a common problem that faces many app developers who work in the wonderful world of web; myself included</li></ol><p>The library is called Globalize.js and can be found on <a href="https://github.com/jquery/globalize" target="_blank" rel="noopener noreferrer">GitHub here</a>. Globalize.js is a simple JavaScript library that allows you to format and parse numbers and dates in culture specific fashion.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="why-does-this-matter"></a>Why does this matter?<a class="hash-link" href="#why-does-this-matter" title="Direct link to heading">#</a></h2><p>Because different countries and cultures do dates and numbers in different ways. Christmas Day this year in England will be <code>25/12/2012</code> (dd/MM/yyyy). But for American eyes this should be <code>12/25/2012</code> (M/d/yyyy). And for German <code>25.12.2012</code> (dd.MM.yyyy). Likewise, if I was to express numerically the value of &quot;one thousand exactly - to 2 decimal places&quot;, as a UK citizen I would do it like so: <code>1,000.00</code>. But if I was French I&#x27;d express it like this: <code>1.000,00</code>. You see my point?</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="why-does-this-matter-to-me"></a>Why does this matter to me?<a class="hash-link" href="#why-does-this-matter-to-me" title="Direct link to heading">#</a></h2><p>For a number of years I&#x27;ve been working on applications that are used globally, from London to Frankfurt to Shanghai to New York to Singapore and many other locations besides. The requirement has always been to serve up localised dates and numbers so users experience of the system is more natural. Since our applications are all ASP.NET we&#x27;ve never really had a problem server-side. Microsoft have blessed us with all the goodness of <a href="http://msdn.microsoft.com/en-us/library/system.globalization.aspx" target="_blank" rel="noopener noreferrer">System.Globalization</a> which covers hundreds of different cultures and localisations. It makes it frankly easy:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-cs codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">using System.Globalization;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//Produces: &quot;06.05.2012&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">new DateTime(2012,5,6).ToString(&quot;d&quot;, new CultureInfo(&quot;de-DE&quot;)); </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//Produces: &quot;45,56&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">45.56M.ToString(&quot;n&quot;, new CultureInfo(&quot;fr-FR&quot;));</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>The problem has always been client-side. If you need to localise dates and numbers on the client what do you do?</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="javascript-date--number-localisation---the-status-quo"></a>JavaScript Date / Number Localisation - the Status Quo<a class="hash-link" href="#javascript-date--number-localisation---the-status-quo" title="Direct link to heading">#</a></h2><p>Well to be frank - it&#x27;s a bit rubbish really. What&#x27;s on offer natively at present basically amounts to this:</p><ul><li><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Date/toLocaleDateString" target="_blank" rel="noopener noreferrer">Date.toLocaleDateString</a></li><li><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Number/ToLocaleString" target="_blank" rel="noopener noreferrer">Number.ToLocaleString</a></li></ul><p>This is better than nothing - but not by much. There&#x27;s no real control or flexibility here. If you don&#x27;t like the native localisation format or you want something slightly different then tough. This is all you&#x27;ve got to play with.</p><p>For the longest time this didn&#x27;t matter too much. Up until relatively recently the world of web was far more about the thin client and the fat server. It would be quite standard to have all HTML generated on the server. And, as we&#x27;ve seen .NET (and many other back end enviroments as well) give you all the flexiblility you might desire given this approach.</p><p><a href="http://www.youtube.com/watch?v=k2sYIIjS-cQ" target="_blank" rel="noopener noreferrer">But the times they are a-changing</a>. And given the ongoing explosion of HTML 5 the rich client is very definitely with us. So we need tools.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="microsoft-doing-good-things"></a>Microsoft doing *good things*<a class="hash-link" href="#microsoft-doing-good-things" title="Direct link to heading">#</a></h2><p>Hands up who remembers when Microsoft first shipped it&#x27;s <a href="http://msdn.microsoft.com/en-us/magazine/cc163300.aspx" target="_blank" rel="noopener noreferrer">ASP.NET AJAX</a> library back in 2007?</p><p>Well a small part of this was the extensions ASP.NET AJAX added to JavaScripts native Date and Number objects.... These extensions allowed the localisation of Dates and Numbers to the current UI culture and the subsequent string parsing of these back into Dates / Numbers. These extensions pretty much gave JavaScript the functionality that the server already had in <code>System.Globalization</code>. (not quite like-for-like but near enough the mark)</p><p>I&#x27;m not aware of a great fuss ever being made about this - a fact I find surprising since one would imagine this is a common need. There&#x27;s good documentation about this on MSDN - here&#x27;s some useful links:</p><ul><li><a href="http://msdn.microsoft.com/en-us/library/bb386572.aspx" target="_blank" rel="noopener noreferrer">Ajax Script Globalization and Localization</a></li><li><a href="http://msdn.microsoft.com/en-us/library/bb386581.aspx" target="_blank" rel="noopener noreferrer">Walkthrough: Globalizing a Date by Using Client Script</a></li><li><a href="http://msdn.microsoft.com/en-us/library/bb397506.aspx" target="_blank" rel="noopener noreferrer">JavaScript Base Type Extensions</a></li><li><a href="http://msdn.microsoft.com/en-us/library/bb397521.aspx" target="_blank" rel="noopener noreferrer">Date.parseLocale</a></li><li><a href="http://msdn.microsoft.com/en-us/library/bb383816.aspx" target="_blank" rel="noopener noreferrer">Date.localeFormat</a></li><li><a href="http://msdn.microsoft.com/en-us/library/bb310813.aspx" target="_blank" rel="noopener noreferrer">Number.localeFormat</a></li><li><a href="http://msdn.microsoft.com/en-us/library/bb310985.aspx" target="_blank" rel="noopener noreferrer">Number.parseLocale</a></li></ul><p>When our team became aware of this we started to make use of it in our web applications. I imagine we weren&#x27;t alone...</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="microsoft-doing-even-better-things-scott-gu-to-the-rescue"></a>Microsoft doing *even better things* (Scott Gu to the rescue!)<a class="hash-link" href="#microsoft-doing-even-better-things-scott-gu-to-the-rescue" title="Direct link to heading">#</a></h2><p>I started to think about this again when MVC reared it&#x27;s lovely head.</p><p>Like many, I found I preferred the separation of concerns / testability etc that MVC allowed. As such, our team was planning to, over time, migrate our ASP.NET WebForms applications over to MVC. However, before we could even begin to do this we had a problem. Our JavaScript localisation was dependant on the ScriptManager. The <a href="http://msdn.microsoft.com/en-us/library/system.web.ui.scriptmanager.aspx" target="_blank" rel="noopener noreferrer">ScriptManager</a> is very much a WebForms construct.</p><p>What to do? To the users it wouldn&#x27;t be acceptable to remove the localisation functionality from the web apps. The architecture of an application is, to a certain extent, meaningless from the users perspective - they&#x27;re only interested in what directly impacts them. That makes sense, even if it was a problem for us.</p><p>Fortunately the Great Gu had it in hand. Lo and behold the <a href="http://forum.jquery.com/topic/proposal-for-a-globalization-plugin-jquery-glob-js" target="_blank" rel="noopener noreferrer">this post</a> appeared on the jQuery forum and the following post appeared on Guthrie&#x27;s blog:</p><p><a href="http://weblogs.asp.net/scottgu/archive/2010/06/10/jquery-globalization-plugin-from-microsoft.aspx" target="_blank" rel="noopener noreferrer">http://weblogs.asp.net/scottgu/archive/2010/06/10/jquery-globalization-plugin-from-microsoft.aspx</a></p><p>Yes that&#x27;s right. Microsoft were giving back to the jQuery community by contributing a jQuery globalisation plug-in. They&#x27;d basically taken the work done with ASP.NET AJAX Date / Number extensions, jQuery-plug-in-ified it and put it out there. Fantastic!</p><p>Using this we could localise / globalise dates and numbers whether we were working in WebForms or in MVC. Or anything else for that matter. If we were suddenly seized with a desire to re-write our apps in PHP we&#x27;d *<strong>still</strong>* be able to use Globalize.js on the client to handle our regionalisation of dates and numbers.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="history-takes-a-funny-course"></a>History takes a funny course...<a class="hash-link" href="#history-takes-a-funny-course" title="Direct link to heading">#</a></h2><p>Now for my part I would have expected that this announcement to be followed in short order by dancing in the streets and widespread adoption. Surprisingly, not so. All went quiet on the globalisation front for some time and then out of the blue the following comment appeared on the jQuery forum by <a href="http://rdworth.org/blog/" target="_blank" rel="noopener noreferrer">Richard D. Worth</a> (he of jQuery UI fame):</p><p><a href="http://blog.jquery.com/2011/04/16/official-plugins-a-change-in-the-roadmap/#comment-527484" target="_blank" rel="noopener noreferrer">http://blog.jquery.com/2011/04/16/official-plugins-a-change-in-the-roadmap/#comment-527484</a></p><p>The long and short of which was:</p><ul><li>The jQuery UI team were now taking care of (the re-named) Globalize.js library as the grid control they were developing had a need for some of Globalize.js&#x27;s goodness. Consequently a home for Globalize.js appeared on the jQuery UI website: <a href="http://wiki.jqueryui.com/Globalize" target="_blank" rel="noopener noreferrer">http://wiki.jqueryui.com/Globalize</a></li><li>The source of Globalize.js moved to this location on GitHub: <a href="https://github.com/jquery/globalize/" target="_blank" rel="noopener noreferrer">https://github.com/jquery/globalize/</a></li><li>Perhaps most significantly, the jQuery globalisation plug-in as developed by Microsoft had now been made a standalone JavaScript library. This was clearly brilliant news for Node.js developers as they would now be able to take advantage of this and perform localisation / globalisation server-side - they wouldn&#x27;t need to have jQuery along for the ride. Also, this would be presumably be good news for users of other client side JavaScript libraries like Dojo / YUI etc.</li></ul><p>Globalize.js clearly has a rosy future in front of it. Using the new Globalize.js library was still simplicity itself. Here&#x27;s some examples of localising dates / numbers using the German culture:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-js codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">script </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  src</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/Scripts/Globalize/globalize.js&quot;</span><span class="token plain"> </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  type</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;text/javascript&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">script</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">script </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  src</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/Scripts/Globalize/cultures/globalize.culture.de-DE.js&quot;</span><span class="token plain"> </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  type</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;text/javascript&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">script</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">Globalize</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">culture</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;de-DE&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//&quot;2012-05-06&quot; - ISO 8601 format</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">Globalize</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">format</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Date</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2012</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token number" style="color:rgb(247, 140, 108)">4</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token number" style="color:rgb(247, 140, 108)">6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;yyyy-MM-dd&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//&quot;06.05.2012&quot; - standard German short date format of dd.MM.yyyy</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">Globalize</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">format</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Date</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2012</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token number" style="color:rgb(247, 140, 108)">4</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token number" style="color:rgb(247, 140, 108)">6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token maybe-class-name">Globalize</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">culture</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">calendar</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">patterns</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">d</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain">   </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//&quot;4.576,3&quot; - a number rendered to 1 decimal place</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">Globalize</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">format</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">4576.34</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;n1&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="stick-a-fork-in-it---its-done"></a>Stick a fork in it - it&#x27;s done<a class="hash-link" href="#stick-a-fork-in-it---its-done" title="Direct link to heading">#</a></h2><p>The entry for Globalize.js on the jQuery UI site reads as follows:</p><blockquote><p><em>&quot;version: 0.1.0a1 (not a jQuery UI version number, as this is a standalone utility) status: in development (part of Grid project)&quot;</em></p></blockquote><p>I held back from making use of the library for some time, deterred by the &quot;in development&quot; status. However, I had a bit of dialog with one of the jQuery UI team (I forget exactly who) who advised that the API was unlikely to change further and that the codebase was actually pretty stable. Our team did some testing of Globalize.js and found this very much to be case. Everything worked just as we expected and hoped. We&#x27;re now using Globalize.js in a production environment with no problems reported; it&#x27;s been doing a grand job.</p><p>In my opinion, Number / Date localisation on the client is ready for primetime right now - it works! Unfortunately, because Globalize.js has been officially linked in with the jQuery UI grid project it seems unlikely that this will officially ship until the grid does. Looking at the jQuery UI <a href="http://wiki.jqueryui.com/Roadmap" target="_blank" rel="noopener noreferrer">roadmap</a> the grid is currently slated to release with jQuery UI 2.1. There isn&#x27;t yet a release date for jQuery UI 1.9 and so it could be a long time before the grid actually sees the light of day.</p><p>I&#x27;m hoping that the jQuery UI team will be persuaded to &quot;officially&quot; release Globalize.js long before the grid actually ships. Obviously people can use Globalize.js as is right now (as we are) but it seems a shame that many others will be missing out on using this excellent functionality, deterred by the &quot;in development&quot; status. Either way, <a href="http://www.youtube.com/watch?v=qEMytPF8YuY" target="_blank" rel="noopener noreferrer">the campaign to release Globalise.js officially starts here!</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="the-future"></a>The Future?<a class="hash-link" href="#the-future" title="Direct link to heading">#</a></h2><p>There are plans to bake globalisation right into JavaScript natively with EcmaScript 5.1. There&#x27;s a good post on the topic <a href="http://generatedcontent.org/post/59403168016/esintlapi" target="_blank" rel="noopener noreferrer">here</a>. And here&#x27;s a couple of historical links worth reading too:</p><p><a href="http://norbertlindenberg.com/2012/02/ecmascript-internationalization-api/" target="_blank" rel="noopener noreferrer">http://norbertlindenberg.com/2012/02/ecmascript-internationalization-api/</a><a href="http://wiki.ecmascript.org/doku.php?id=globalization:specification_drafts" target="_blank" rel="noopener noreferrer">http://wiki.ecmascript.org/doku.php?id=globalization:specification_drafts</a></p></section><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/tags/jqueryui">jqueryui</a><a class="margin-horiz--sm" href="/tags/globalize-js">Globalize.JS</a><a class="margin-horiz--sm" href="/tags/javascript">javascript</a><a class="margin-horiz--sm" href="/tags/asp-net-ajax">ASP.NET AJAX</a><a class="margin-horiz--sm" href="/tags/globalization">Globalization</a><a class="margin-horiz--sm" href="/tags/richard-d-worth">Richard D. Worth</a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_3-lP"><a href="/2012/04/28/beg-steal-or-borrow-decent-javascript">Beg, Steal or Borrow a Decent JavaScript DateTime Converter</a></h2><div class="margin-vert--md"><time datetime="2012-04-28T00:00:00.000Z" class="blogPostDate_Ta7i">April 28, 2012  · 7 min read</time></div><div class="avatar margin-vert--md"><a class="avatar__photo-link avatar__photo" href="https://github.com/johnnyreilly" target="_blank" rel="noreferrer noopener"><img src="https://avatars.githubusercontent.com/u/1010525?s=400&amp;u=294033082cfecf8ad1645b4290e362583b33094a&amp;v=4" alt="John Reilly"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://github.com/johnnyreilly" target="_blank" rel="noreferrer noopener">John Reilly</a></h4><small class="avatar__subtitle"></small></div></div></header><section class="markdown"><p>I&#x27;ve so named this blog post because it shamelessly borrows from the fine work of others: Sebastian Markbåge and Nathan Vonnahme. Sebastian wrote a blog post documenting a good solution to the ASP.NET JavaScriptSerializer DateTime problem at the tail end of last year. However, his solution didn&#x27;t get me 100% of the way there when I tried to use it because of a need to support IE 8 which lead me to use Nathan Vonnahme&#x27;s ISO 8601 JavaScript Date parser. I thought it was worth documenting this, hence this post, but just so I&#x27;m clear; the hard work here was done by Sebastian Markbåge and Nathan Vonnahme and not me. Consider me just a curator in this case. The original blog posts that I am drawing upon can be found here: 1. <a href="http://blog.calyptus.eu/seb/2011/12/custom-datetime-json-serialization/" target="_blank" rel="noopener noreferrer">http://blog.calyptus.eu/seb/2011/12/custom-datetime-json-serialization/</a> and here:
2. <a href="http://n8v.enteuxis.org/2010/12/parsing-iso-8601-dates-in-javascript/" target="_blank" rel="noopener noreferrer">http://n8v.enteuxis.org/2010/12/parsing-iso-8601-dates-in-javascript/</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="datetime-json-javascript-dates"></a>DateTime, JSON, JavaScript Dates....<a class="hash-link" href="#datetime-json-javascript-dates" title="Direct link to heading">#</a></h2><p>Like many, I&#x27;ve long been frustrated with the quirky DateTime serialisation employed by the <code>System.Web.Script.Serialization.JavaScriptSerializer</code> class. When serialising DateTimes so they can be JSON.parsed on the client, this serialiser uses the following approach: (from MSDN) <a href="http://msdn.microsoft.com/en-us/library/system.web.script.serialization.javascriptserializer.aspx" target="_blank" rel="noopener noreferrer"><em>Date object, represented in JSON as &quot;\/Date(number of ticks)\/&quot;. The number of ticks is a positive or negative long value that indicates the number of ticks (milliseconds) that have elapsed since midnight 01 January, 1970 UTC.&quot;</em></a> Now this is not particularly helpful in my opinion because it&#x27;s not human readable (at least not this human; perhaps <a href="http://stackoverflow.com/users/22656/jon-skeet" target="_blank" rel="noopener noreferrer">Jon Skeet</a>...) When consuming your data from web services / PageMethods using <a href="http://api.jquery.com/jQuery.ajax/" target="_blank" rel="noopener noreferrer">jQuery.ajax</a> you are landed with the extra task of having to convert what were DateTimes on the server from Microsofts string Date format (eg <code>&quot;\/Date(1293840000000)\/&quot;</code>) into actual JavaScript Dates. It&#x27;s also unhelpful because it&#x27;s divergent from the approach to DateTime / Date serialisation used by a native JSON serialisers: <img src="/assets/images/FireBug-Dates-0636f61333c7811fd9a8a56078638bb5.png"></p><p> Just as an aside it&#x27;s worth emphasising that one of the limitations of JSON is that the JSON.parsing of a JSON.stringified date will *<strong>not</strong>* return you to a JavaScript Date but rather an ISO 8601 date string which will need to be subsequently converted into a Date. Not JSON&#x27;s fault - essentially down to the absence of a Date literal within JavaScript. ## Making JavaScriptSerializer behave more JSON&#x27;y</p><p>Anyway, I didn&#x27;t think there was anything I could really do about this in an ASP.NET classic / WebForms world because, to my knowledge, it is not possible to swap out the serialiser that is used. JavaScriptSerializer is the only game in town. (Though I am optimistic about the future; given the announcement that I first picked up on Rick Strahl&#x27;s blog that <a href="http://www.west-wind.com/weblog/posts/2012/Mar/09/Using-an-alternate-JSON-Serializer-in-ASPNET-Web-API" target="_blank" rel="noopener noreferrer">Json.NET was going to be adopted as the default JSON serializer for ASP.NET Web API</a>; what with Json.NET having out-of-the-box <a href="http://james.newtonking.com/archive/2009/02/20/good-date-times-with-json-net.aspx" target="_blank" rel="noopener noreferrer">ISO 8601 support</a>. I digress...) Because it can make debugging a much more straightforward process I place a lot of value on being able to read the network traffic that web apps generate. It&#x27;s much easier to drop into Fiddler / FireBug / Chrome dev tools etc and watch what&#x27;s happening there and then instead of having to manually process the data separately first so that you can understand it. I think this is nicely aligned with the <a href="http://en.wikipedia.org/wiki/KISS_principle" target="_blank" rel="noopener noreferrer">KISS principle</a>. For that reason I&#x27;ve been generally converting DateTimes to ISO 8601 strings on the server before returning them to the client. A bit of extra overhead but generally worth it for the gains in clarity in my opinion. So I was surprised and delighted when I happened upon <a href="http://blog.calyptus.eu/seb/2011/12/custom-datetime-json-serialization/" target="_blank" rel="noopener noreferrer">Sebastian Markbåge&#x27;s blog post</a> which provided a DateTime JavaScriptConverter that could be plugged into the JavaScriptSerializer. You can see the code below (or on Sebastian&#x27;s original post with a good explanation of how it works): <script src="https://gist.github.com/2489976.js?file=DateTimeJavaScriptConverter.cs"></script></p><p> Using this converter meant that a DateTime that previously would have been serialised as <code>&quot;\/Date(1293840000000)\/&quot;</code> would now be serialised as <code>&quot;2011-01-01T00:00:00.0000000Z&quot;</code> instead. This is entirely agreeable because 1. it&#x27;s entirely clear what a <code>&quot;2011-01-01T00:00:00.0000000Z&quot;</code> style date represents and
2. this is more in line with native browser JSON implementations and <code>&amp;lt;statingTheObvious&amp;gt;</code>consistency is a good thing.<code>&amp;lt;/statingTheObvious&amp;gt;</code></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="getting-your-web-services-to-use-the-iso-8601-datetime-converter"></a>Getting your web services to use the ISO 8601 DateTime Converter<a class="hash-link" href="#getting-your-web-services-to-use-the-iso-8601-datetime-converter" title="Direct link to heading">#</a></h2><p>Sebastian alluded in his post to a <code>web.config</code> setting that could be used to get web services / pagemethods etc. implementing his custom DateTime serialiser. This is it: <script src="https://gist.github.com/2489976.js?file=web.config"></script></p><p> With this in place your web services / page methods will happily be able to serialise / deserialise ISO style date strings to your hearts content. ## What no ISO 8601 date string Date constructor?</p><p>As I mentioned earlier, Sebastian&#x27;s solution didn&#x27;t get me 100% of the way there. There was still a fly in the ointment in the form of IE 8. Unfortunately IE 8 doesn&#x27;t have JavaScript <a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Date/parse" target="_blank" rel="noopener noreferrer">Date constructor that takes ISO 8601 date strings</a>. This lead me to using Nathan Vonnahme&#x27;s ISO 8601 JavaScript Date parser, the code of which is below (or see his original post <a href="http://n8v.enteuxis.org/2010/12/parsing-iso-8601-dates-in-javascript/" target="_blank" rel="noopener noreferrer">here</a>): <script src="https://gist.github.com/2489976.js?file=parseISO8601Date.js"></script></p><p> With this in place I could parse ISO 8601 Dates just like anyone else. Great stuff. <code>parseISO8601Date(&quot;2011-01-01T00:00:00.0000000Z&quot;)</code> would give me a JavaScript Date of <code>Sat Jan 1 00:00:00 UTC 2011</code>. Obviously in the fullness of time the parseISO8601Date solution should no longer be necessary because <a href="http://es5.github.com/#x15.9.3.2" target="_blank" rel="noopener noreferrer">EcmaScript 5 specifies an ISO 8601 date string constructor</a>. However, in the interim Nathan&#x27;s solution is a lifesaver. Thanks again both to Sebastian Markbåge and Nathan Vonnahme who have both generously allowed me use their work as the basis for this post. ## PS And it would have worked if it wasn&#x27;t for that pesky IE 9...</p><p>Subsequent to writing this post I thought I&#x27;d check that IE 9 had implemented a JavaScript Date constructor that would process an ISO 8601 date string like this: <code>new Date(&quot;2011-01-01T00:00:00.0000000Z&quot;)</code>. It hasn&#x27;t. Take a look: <img src="/assets/images/IE9%2B%2528shakes%2Bfist%2529-fd45569f1f35097a7029f2b79244da80.png"></p><p> This is slightly galling as the above code works dandy in Firefox and Chrome. As you can see from the screenshot you can get the JavaScript IE 9 Date constructor to play nice by trimming off the final 4 &quot;0&quot;&#x27;s from the string. Frustrating. Obviously we can still use Nathan&#x27;s solution but it&#x27;s a shame that we can&#x27;t use the native support. Based on what I&#x27;ve read <a href="http://msdn.microsoft.com/en-us/library/az4se3k1.aspx#Roundtrip" target="_blank" rel="noopener noreferrer">here</a> I think it would be possible to amend Sebastians serializer to fall in line with IE 9&#x27;s pendantry by changing this: ```cs
return new CustomString(((DateTime)obj).ToUniversalTime()</p><p>  .ToString(<b>&quot;O&quot;</b>)</p><p>);</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> To this: ```cs</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">return new CustomString(((DateTime)obj).ToUniversalTime()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  .ToString(&lt;b&gt;&quot;yyyy&#x27;-&#x27;MM&#x27;-&#x27;dd&#x27;T&#x27;HH&#x27;:&#x27;mm&#x27;:&#x27;ss&#x27;.&#x27;fffzzz&quot;&lt;/b&gt;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p> I&#x27;ve held off from doing this myself as I rather like Sebastian&#x27;s idea of being able to use Microsoft&#x27;s Round-trip (&quot;O&quot;, &quot;o&quot;) Format Specifier. And it seems perverse that we should have to move away from using Microsoft&#x27;s Round-trip Format Specifier purely because of (Microsoft&#x27;s) IE! But it&#x27;s a possibility to consider and so I put it out there. I would hope that MS will improve their JavaScript Date constructor with IE 10. A missed opportunity if they don&#x27;t I think. ## PPS Just when you thought is over... IE 9 was right!</p><p>Sebastian got in contact after I first published this post and generously pointed out that, contrary to my expectation, IE 9 technically had the correct implementation. According to the <a href="http://es5.github.com/#x15.9.1.15" target="_blank" rel="noopener noreferrer">EMCAScript standard</a> the Date constructor should not allow more than millisecond precision. In this case, Chrome and Firefox are being less strict - not more correct. On reflection this does rather make sense as the result of a <code>JSON.stringify(new Date())</code> never results in an ISO date string to the 10 millionths of a second detail. Sebastian has himself stopped using Microsoft&#x27;s Round-trip (&quot;O&quot;, &quot;o&quot;) Format Specifier in favour of this format string: ```cs
return new CustomString(((DateTime)obj).ToUniversalTime()</p><p>  .ToString(<b>&quot;yyyy-MM-ddTHH:mm:ss.fffZ&quot;</b>)</p><p>);</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> This results in date strings that comply perfectly with the ECMAScript spec. I suspect I&#x27;ll switch to using this also now. Though I&#x27;ll probably leave the first part of the post intact as I think the background remains interesting. Thanks again Sebastian!</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></section><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/tags/date">Date</a><a class="margin-horiz--sm" href="/tags/sebastian-markbage">Sebastian Markbåge</a><a class="margin-horiz--sm" href="/tags/date-time">DateTime</a><a class="margin-horiz--sm" href="/tags/system-web-script-serialization-java-script-serializer">System.Web.Script.Serialization.JavaScriptSerializer</a><a class="margin-horiz--sm" href="/tags/emca-script-standard">EMCAScript standard</a><a class="margin-horiz--sm" href="/tags/json">json</a><a class="margin-horiz--sm" href="/tags/javascript">javascript</a><a class="margin-horiz--sm" href="/tags/serialization">Serialization</a><a class="margin-horiz--sm" href="/tags/nathan-vonnahme">Nathan Vonnahme</a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_3-lP"><a href="/2012/04/23/jshint-customising-your-hurt-feelings">JSHint - Customising your hurt feelings</a></h2><div class="margin-vert--md"><time datetime="2012-04-23T00:00:00.000Z" class="blogPostDate_Ta7i">April 23, 2012  · 5 min read</time></div><div class="avatar margin-vert--md"><a class="avatar__photo-link avatar__photo" href="https://github.com/johnnyreilly" target="_blank" rel="noreferrer noopener"><img src="https://avatars.githubusercontent.com/u/1010525?s=400&amp;u=294033082cfecf8ad1645b4290e362583b33094a&amp;v=4" alt="John Reilly"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://github.com/johnnyreilly" target="_blank" rel="noreferrer noopener">John Reilly</a></h4><small class="avatar__subtitle"></small></div></div></header><section class="markdown"><p>As I&#x27;ve started making greater use of JavaScript to give a richer GUI experience the amount of JS in my ASP.NET apps has unsurprisingly ballooned. If I&#x27;m honest, I hadn&#x27;t given much consideration to the code quality of my JavaScript in the past. However, if I was going to make increasing use of it (and given the way the web is going at the moment I&#x27;d say that&#x27;s a given) I didn&#x27;t think this was tenable position to maintain. A friend of mine works for <a href="http://www.coverity.com/" target="_blank" rel="noopener noreferrer">Coverity</a> which is a company that provides tools for analysing code quality. I understand, from conversations with him, that their tools provide static analysis for compiled languages such as C++ / C# / Java etc. I was looking for something similar for JavaScript. Like many, I have read and loved <a href="http://www.amazon.com/JavaScript-Good-Parts-Douglas-Crockford/dp/0596517742" target="_blank" rel="noopener noreferrer">Douglas Crockford&#x27;s &quot;JavaScript: The Good Parts&quot;</a>; it is by some margin the most useful and interesting software related book I have read.So I was aware that Crockford had come up with his own JavaScript code quality tool called <a href="http://www.jslint.com/" target="_blank" rel="noopener noreferrer">JSLint</a>. JSLint is quite striking when you first encounter it: <img src="/assets/images/JSLint-e63a8504cc193628ce6d531d0118f6f8.png"></p><p> It&#x27;s the &quot;Warning! JSLint will hurt your feelings.&quot; that grabs you. And it&#x27;s not wrong. I&#x27;ve copied and pasted code that I&#x27;ve written into JSLint and then gasped at the reams of errors JSLint would produce. I subsequently tried JSLint-ing various well known JS libraries (jQuery etc) and saw that JSLint considered they were thoroughly problematic as well. This made me feel slightly better. It was when I started examining some of the &quot;errors&quot; JSLint reported that I took exception. Yes, I took exception to exceptions! (I&#x27;m *<strong>very</strong>* pleased with that!) Here&#x27;s a few of the errors generated by JSLint when inspecting <a href="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.js" target="_blank" rel="noopener noreferrer">jquery-1.7.2.js</a>: - <code>Problem at line 16 character 10: Expected exactly one space between &#x27;function&#x27; and &#x27;(&#x27;.</code></p><ul><li><code>Problem at line 25 character 1: Expected &#x27;var&#x27; at column 13, not column 1.</code></li><li><code>Problem at line 31 character 5: Unexpected dangling &#x27;_&#x27; in &#x27;_jQuery&#x27;.</code></li></ul><p> JSLint is, much like it&#x27;s creator, quite opinionated. Which is no bad thing. Many of Crockfords opinions are clearly worth their salt. It&#x27;s just I didn&#x27;t want all of them enforced upon me. As you can see above most of these &quot;problems&quot; are essentially complaints about a different style rather than bugs or potential issues. Now there are options in JSLint that you can turn on and off which looked quite promising. But before I got to investigating them I heard about <a href="http://www.jshint.com" target="_blank" rel="noopener noreferrer">JSHint</a>, brainchild of Anton Kovalyov and Paul Irish. In their own words: <em>JSHint is a fork of JSLint, the tool written and maintained by Douglas Crockford. The project originally started as an effort to make a more configurable version of JSLint—one that doesn&#x27;t enforce one particular coding style on its users—but then transformed into a separate static analysis tool with its own goals and ideals.</em> This sounded right up my alley! So I thought I&#x27;d repeat my jQuery test. Here&#x27;s a sample of what JSHint threw back at me, with its default settings in place: - <code>Line 230: return num == null ? Expected &#x27;===&#x27; and instead saw &#x27;==&#x27;. </code></p><ul><li><code>Line 352: if ( (options = arguments[ i ]) != null ) { Expected &#x27;!==&#x27; and instead saw &#x27;!=&#x27;. </code></li><li><code>Line 354: for ( name in options ) { The body of a for in should be wrapped in an if statement to filter unwanted properties from the prototype. </code></li></ul><p> These were much more the sort of &quot;issues&quot; I was interested in. Plus it seemed there was plenty of scope to tweak my options. Excellent. This was good. The icing on my cake would have been a plug-in for Visual Studio which would allow me to evaluate my JS files from within my IDE. Happily the world seems to be full of developers doing good turns for one another. I discovered an extension for VS called <a href="http://jslint4vs2010.codeplex.com/" target="_blank" rel="noopener noreferrer">JSLint for Visual Studio 2010</a>: <img src="/assets/images/Extensions-eaec649adf02eee1ecce09e1210e718e.png"></p><p> This was an extension that provided either JSLint *<strong>or</strong>* JSHint evaluation as you preferred from within Visual Studio. Fantastic! With this extension in play you could add JavaScript static code analysis to your compilation process and so learn of all the issues in your code at the same time, whether they lay in C# or JS or [insert language here]. You could control how JS problems were reported; as warnings, errors etc. You could straightforwardly exclude files from evaluation (essential if you&#x27;re reliant on a number of 3rd party JS libraries which you are not responsible for maintaining). You could cater for predefined variables; allow for jQuery or DOJO. You could simply evaluate a single file in your solution by right clicking it and hitting the &quot;JS Lint&quot; option in the context menu. And it was simplicity itself to activate and deactivate the JSHint / JSLint extension as required. For a more exhaustive round up of the options available I advise taking a look here: <a href="http://jslint4vs2010.codeplex.com/" target="_blank" rel="noopener noreferrer">http://jslint4vs2010.codeplex.com</a>. I would heartily recommend using JSHint if you&#x27;re looking to improve your JS code quality. I&#x27;m grateful to Crockford for making JSHint possible by first writing JSLint. For my part though I think JSHint is the more pragmatic and useful tool and likely to be the one I stick with. For interest (and frankly sheer entertainment value at the crotchetiness of Crockford) it&#x27;s definitely worth having a read up on how JSHint came to pass: - <a href="http://anton.kovalyov.net/2011/02/20/why-i-forked-jslint-to-jshint/" target="_blank" rel="noopener noreferrer">http://anton.kovalyov.net/2011/02/20/why-i-forked-jslint-to-jshint/</a></p><ul><li><a href="http://badassjs.com/post/3364925033/jshint-an-community-driven-fork-of-jslint" target="_blank" rel="noopener noreferrer">http://badassjs.com/post/3364925033/jshint-an-community-driven-fork-of-jslint</a></li></ul></section><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/tags/js-lint-for-visual-studio">JSLint for Visual Studio</a><a class="margin-horiz--sm" href="/tags/coverity">Coverity</a><a class="margin-horiz--sm" href="/tags/anton-kovalyov">Anton Kovalyov</a><a class="margin-horiz--sm" href="/tags/javascript">javascript</a><a class="margin-horiz--sm" href="/tags/paul-irish">paul irish</a><a class="margin-horiz--sm" href="/tags/static-code-analysis">static code analysis</a><a class="margin-horiz--sm" href="/tags/js-lint">JSLint</a><a class="margin-horiz--sm" href="/tags/js-hint">JSHint</a><a class="margin-horiz--sm" href="/tags/douglas-crockford">douglas crockford</a></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/page/19"><div class="pagination-nav__label">« Newer Entries</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/page/21"><div class="pagination-nav__label">Older Entries »</div></a></div></nav></main></div></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 John Reilly. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.c1706ff8.js"></script>
<script src="/runtime~main.33bade23.js"></script>
<script src="/main.97e26571.js"></script>
<script src="/1.8880c22c.js"></script>
<script src="/2.b9a20647.js"></script>
<script src="/a6aa9e1f.1d171091.js"></script>
<script src="/9d38daca.9ec7554d.js"></script>
<script src="/df8b2109.962e5b27.js"></script>
<script src="/fa1c9811.f0c6e2a9.js"></script>
<script src="/4011a4a4.2bc6cd71.js"></script>
<script src="/0ba27666.0d882a6f.js"></script>
<script src="/87e112a6.6523f533.js"></script>
<script src="/ba67aaac.c2605d34.js"></script>
<script src="/65970fee.80a3a008.js"></script>
<script src="/e59d3252.74745fca.js"></script>
<script src="/ca7375c2.c6c849a9.js"></script>
<script src="/f209798b.b6df0145.js"></script>
<script src="/35293ec4.3dddab76.js"></script>
</body>
</html>